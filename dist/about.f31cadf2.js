!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define("NSW",["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).NSW={})}(this,function(t){"use strict";let e,s=new Uint8Array(16),i=[];for(let t=0;t<256;++t)i.push((t+256).toString(16).slice(1));var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let l=t=>{let l=function(t,l,a){if(n.randomUUID&&!t)return n.randomUUID();let o=(t=t||{}).random||(t.rng||function(){if(!e&&!(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(s)})();o[6]=15&o[6]|64,o[8]=63&o[8]|128,!1;return function(t,e=0){return(i[t[e+0]]+i[t[e+1]]+i[t[e+2]]+i[t[e+3]]+"-"+i[t[e+4]]+i[t[e+5]]+"-"+i[t[e+6]]+i[t[e+7]]+"-"+i[t[e+8]]+i[t[e+9]]+"-"+i[t[e+10]]+i[t[e+11]]+i[t[e+12]]+i[t[e+13]]+i[t[e+14]]+i[t[e+15]]).toLowerCase()}(o)}();return`${void 0===t?"nsw":t}-${l}`},a=t=>({all:t,first:t[0],last:t[t.length-1],length:t.length}),o=(t,e)=>{let s=[];for(let i=0;i<e.length;i+=1)s.push([].slice.call(document.querySelectorAll(`#${t} ${e[i]}`)));return a([].concat(...s))},r=(t,e)=>{let{activeElement:s}=document;return 9===t.keyCode&&(1===e.length?t.preventDefault():t.shiftKey&&s===e.first?(e.last.focus(),t.preventDefault()):t.shiftKey||s!==e.last||(e.first.focus(),t.preventDefault()),!0)},h=()=>{let t=document.createElement("fakeelement"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},s=Object.keys(e).filter(e=>void 0!==t.style[e]);return e[s[0]]};class c{constructor(t){this.element=t;let[e,s]=Array.from(this.element.querySelectorAll(".nsw-accordion__toggle button"));this.accordionHeadingClass=".nsw-accordion__title",this.headings=this.element.querySelectorAll(this.accordionHeadingClass),this.expandAllBtn=e,this.collapseAllBtn=s,this.isExpandedOnLoad=this.element.querySelectorAll(".nsw-accordion__open"),this.buttons=[],this.content=[],this.toggleEvent=t=>this.toggle(t),this.expandAllEvent=t=>this.expandAll(t),this.collapseAllEvent=t=>this.collapseAll(t)}init(){this.setUpDom(),this.controls()}setUpDom(){this.element.classList.add("ready"),this.collapseAllBtn&&(this.collapseAllBtn.disabled=!0),this.headings.forEach(t=>{let e=t.nextElementSibling,s=function(t){let{textContent:e}=t,s=document.createDocumentFragment(),i=document.createElement("button"),n=l("accordion");return i.textContent=e,i.setAttribute("type","button"),i.setAttribute("aria-expanded","false"),i.setAttribute("aria-controls",n),i.classList.add("nsw-accordion__button"),i.insertAdjacentHTML("beforeend",`
  <span class="material-icons nsw-material-icons" focusable="false" aria-hidden="true">keyboard_arrow_down</span>
  `),s.appendChild(i),s}(t);t.textContent="",t.appendChild(s);let i=t.getElementsByTagName("button")[0];e&&(e.id=i.getAttribute("aria-controls"),e.hidden="until-found",this.content.push(e)),this.buttons.push(i)}),this.isExpandedOnLoad&&this.isExpandedOnLoad.forEach(t=>{let e=t.querySelector("button");this.setAccordionState(e,"open")})}controls(){this.buttons.forEach(t=>{t.addEventListener("click",this.toggleEvent,!1),t.addEventListener("beforematch",this.toggleEvent,!1)}),this.expandAllBtn&&this.collapseAllBtn&&(this.expandAllBtn.addEventListener("click",this.expandAllEvent,!1),this.collapseAllBtn.addEventListener("click",this.collapseAllEvent,!1))}getTargetContent(t){let e=this.buttons.indexOf(t);return this.content[e]}setAccordionState(t,e){let s=this.getTargetContent(t);"open"===e?(t.classList.add("active"),t.setAttribute("aria-expanded","true"),s.hidden=!1):"close"===e&&(t.classList.remove("active"),t.setAttribute("aria-expanded","false"),s.hidden="until-found")}toggle(t){let{currentTarget:e}=t,s=this.getTargetContent(e);if(s){let t=s.hidden;!0===t||"until-found"===t?this.setAccordionState(e,"open"):this.setAccordionState(e,"close"),this.expandAllBtn&&this.collapseAllBtn&&(this.expandAllBtn.disabled=this.content.every(t=>!1===t.hidden),this.collapseAllBtn.disabled=this.content.every(t=>"until-found"===t.hidden))}}expandAll(){this.buttons.forEach(t=>{this.setAccordionState(t,"open")}),this.expandAllBtn.disabled=!0,this.collapseAllBtn.disabled=!1}collapseAll(){this.buttons.forEach(t=>{this.setAccordionState(t,"close")}),this.expandAllBtn.disabled=!1,this.collapseAllBtn.disabled=!0}}class d{constructor(t){this.element=t,this.dataElement=this.element.getAttribute("data-element"),this.scrollOffset=this.element.getAttribute("data-offset"),this.text=!1,this.icon=!1,this.scrollElement=this.dataElement?document.querySelector(this.dataElement):window,this.scrollPosition=0,this.width=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),this.height=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),this.condition=!1}init(){this.createButton(),this.element.addEventListener("click",t=>{t.preventDefault(),window.requestAnimationFrame?this.dataElement?this.scrollElement.scrollTo({top:0,behavior:"smooth"}):window.scrollTo({top:0,behavior:"smooth"}):this.scrollElement.scrollTo(0,0)}),this.checkBackToTop();let t=this.debounce(this.checkBackToTop);this.scrollElement.addEventListener("scroll",()=>{t()});let e=this.debounce(this.resizeHandler);window.addEventListener("resize",()=>{e()})}createButton(){let t=this.constructor.createElement("span"),e=this.constructor.createElement("span",["material-icons","nsw-material-icons"],{title:"Back to top",focusable:"false","aria-hidden":"true"});this.element.append(t,e),this.text=this.element.querySelector("span:not(.material-icons)"),this.icon=this.element.querySelector("span.material-icons"),this.createButtonContent()}createButtonContent(){this.width<768?(this.text.innerText="Top",this.icon.innerText="keyboard_arrow_up"):(this.text.innerText="Back to top",this.icon.innerText="north")}checkBackToTop(){let t=this.scrollElement.scrollTop||document.documentElement.scrollTop;this.dataElement||(t=window.scrollY||document.documentElement.scrollTop);let e=this.scrollPosition;this.scrollPosition=window.scrollY,this.scrollOffset&&this.scrollOffset>0?this.condition=t>=this.scrollOffset:this.condition=e>this.scrollPosition&&this.scrollPosition>200,this.element.classList.toggle("active",this.condition)}resizeHandler(){let t=this.width,e=this.height;this.width=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),this.height=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),t!==this.width&&e===this.height&&this.createButtonContent()}debounce(t){let e;var s=this;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;return function(){for(var n=arguments.length,l=Array(n),a=0;a<n;a++)l[a]=arguments[a];window.requestAnimationFrame?(e&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame(()=>{t.apply(s,l)})):(clearTimeout(e),e=setTimeout(()=>t.apply(s,l),i))}}static createElement(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=document.createElement(t);return e.length>0&&i.classList.add(...e),Object.entries(s).forEach(t=>{let[e,s]=t;i.setAttribute(e,s)}),i}}class u{constructor(t){this.element=t,this.allBreadcrumbs=this.element.querySelector(".nsw-breadcrumbs ol"),this.secondBreadcrumb=this.element.querySelector(".js-breadcrumbs li:nth-child(2)"),this.condition=!1}init(){this.allBreadcrumbs.children.length>3&&this.createToggle()}createToggle(){let t=this.constructor.createElement("li",["nsw-breadcrumbs__show-more-toggle"]);t.innerHTML='<button aria-label="Show more breadcrumbs" class="nsw-breadcrumbs__toggle-button" type="button">â€¦</button>',t.addEventListener("click",()=>{this.allBreadcrumbs.classList.toggle("nsw-breadcrumbs__show-all")}),this.allBreadcrumbs.insertBefore(t,this.secondBreadcrumb)}static createElement(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=document.createElement(t);return e.length>0&&i.classList.add(...e),Object.entries(s).forEach(t=>{let[e,s]=t;i.setAttribute(e,s)}),i}}class p{constructor(t){this.element=t,this.prefix="nsw-",this.class="date-picker",this.uID=l("calendar-label"),this.dateClass=`${this.prefix}${this.class}__date`,this.todayClass=`${this.dateClass}--today`,this.selectedClass=`${this.dateClass}--selected`,this.keyboardFocusClass=`${this.dateClass}--keyboard-focus`,this.visibleClass=`${this.prefix}${this.class}--is-visible`,this.months=this.element.getAttribute("data-months")?this.element.getAttribute("data-months"):["January","February","March","April","May","June","July","August","September","October","November","December"],this.dateFormat=this.element.getAttribute("data-date-format")?this.element.getAttribute("data-date-format"):"d-m-y",this.dateSeparator=this.element.getAttribute("data-date-separator")?this.element.getAttribute("data-date-separator"):"/",this.datesDisabled=this.element.getAttribute("data-dates-disabled")?this.element.getAttribute("data-dates-disabled"):"",this.minDate=this.element.getAttribute("data-min-date")?this.element.getAttribute("data-min-date"):"",this.maxDate=this.element.getAttribute("data-max-date")?this.element.getAttribute("data-max-date"):"",this.input=this.element.querySelector(".js-date-input__text"),this.trigger=this.element.querySelector(".js-date-input__trigger"),this.triggerLabel=this.trigger&&this.trigger.getAttribute("aria-label")?this.trigger.getAttribute("aria-label"):"Select a date",this.datePicker=this.element.querySelector(".js-date-picker"),this.body=this.datePicker&&this.datePicker.querySelector(".js-date-picker__dates"),this.navigation=this.datePicker&&this.datePicker.querySelector(".js-date-picker__title-nav"),this.heading=this.datePicker&&this.datePicker.querySelector(".js-date-picker__title-label"),this.close=this.datePicker&&this.datePicker.querySelector(".js-date-picker__close"),this.accept=this.datePicker&&this.datePicker.querySelector(".js-date-picker__accept"),this.multipleInput=this.element.querySelector(".js-date-input-multiple"),this.dateInput=this.multipleInput&&this.multipleInput.querySelector(".js-date-picker-date"),this.monthInput=this.multipleInput&&this.multipleInput.querySelector(".js-date-picker-month"),this.yearInput=this.multipleInput&&this.multipleInput.querySelector(".js-date-picker-year"),this.multiDateArray=[this.dateInput,this.monthInput,this.yearInput],this.dateIndexes=this.getDateIndexes(),this.pickerVisible=!1,this.dateSelected=!1,this.selectedDay=!1,this.selectedMonth=!1,this.selectedYear=!1,this.firstFocusable=!1,this.lastFocusable=!1,this.disabledArray=!1}init(){(this.input||this.multipleInput)&&(this.datePicker||this.initCreateCalendar(),this.disabledDates(),this.resetCalendar(),this.initCalendarAria(),this.initCalendarEvents(),this.placeCalendar())}initCreateCalendar(){let t=`
    <div class="nsw-date-picker js-date-picker" role="dialog" aria-labelledby="${this.uID}">
      <header class="nsw-date-picker__header">
        <div class="nsw-date-picker__title">
          <span class="nsw-date-picker__title-label js-date-picker__title-label" id="${this.uID}"></span>

          <nav>
            <ul class="nsw-date-picker__title-nav js-date-picker__title-nav">
              <li>
                <button class="nsw-icon-button nsw-date-picker__title-nav-btn js-date-picker__year-nav-btn js-date-picker__year-nav-btn--prev" type="button">
                  <span class="material-icons nsw-material-icons">keyboard_double_arrow_left</span>
                </button>
                <button class="nsw-icon-button nsw-date-picker__title-nav-btn js-date-picker__month-nav-btn js-date-picker__month-nav-btn--prev" type="button">
                  <span class="material-icons nsw-material-icons">chevron_left</span>
                </button>
              </li>

              <li>
                <button class="nsw-icon-button nsw-date-picker__title-nav-btn js-date-picker__month-nav-btn js-date-picker__month-nav-btn--next" type="button">
                  <span class="material-icons nsw-material-icons">chevron_right</span>
                </button>
                <button class="nsw-icon-button nsw-date-picker__title-nav-btn js-date-picker__year-nav-btn js-date-picker__year-nav-btn--next" type="button">
                  <span class="material-icons nsw-material-icons">keyboard_double_arrow_right</span>
                </button>
              </li>
            </ul>
          </nav>
        </div>

        <ol class="nsw-date-picker__week">
          <li><div class="nsw-date-picker__day">M<span class="sr-only">onday</span></div></li>
          <li><div class="nsw-date-picker__day">T<span class="sr-only">uesday</span></div></li>
          <li><div class="nsw-date-picker__day">W<span class="sr-only">ednesday</span></div></li>
          <li><div class="nsw-date-picker__day">T<span class="sr-only">hursday</span></div></li>
          <li><div class="nsw-date-picker__day">F<span class="sr-only">riday</span></div></li>
          <li><div class="nsw-date-picker__day">S<span class="sr-only">aturday</span></div></li>
          <li><div class="nsw-date-picker__day">S<span class="sr-only">unday</span></div></li>
        </ol>
      </header>

      <ol class="nsw-date-picker__dates js-date-picker__dates" aria-labelledby="${this.uID}">
        
      </ol>

      <div class="nsw-date-picker__buttongroup">
        <button type="button" class="nsw-button nsw-button--dark-outline-solid js-date-picker__close" value="cancel">Cancel</button>
        <button type="button" class="nsw-button nsw-button--dark js-date-picker__accept" value="ok">OK</button>
      </div>
    </div>`;this.element.insertAdjacentHTML("beforeend",t),this.datePicker=this.element.querySelector(".js-date-picker"),this.body=this.datePicker.querySelector(".js-date-picker__dates"),this.navigation=this.datePicker.querySelector(".js-date-picker__title-nav"),this.heading=this.datePicker.querySelector(".js-date-picker__title-label"),this.close=this.datePicker.querySelector(".js-date-picker__close"),this.accept=this.datePicker.querySelector(".js-date-picker__accept")}initCalendarAria(){this.resetLabelCalendarTrigger();let t=document.createElement("div");t.setAttribute("aria-live","polite"),t.classList.add("sr-only","js-date-input__sr-live"),this.element.appendChild(t),this.srLiveReagion=this.element.querySelector(".js-date-input__sr-live")}initCalendarEvents(){this.input&&this.input.addEventListener("focus",()=>{this.toggleCalendar(!0)}),this.multipleInput&&this.multiDateArray.forEach(t=>{t.addEventListener("focus",()=>{this.hideCalendar()})}),this.trigger&&this.trigger.addEventListener("click",t=>{t.preventDefault(),this.pickerVisible=!1,this.toggleCalendar(),this.trigger.setAttribute("aria-expanded","true")}),this.close&&this.close.addEventListener("click",t=>{t.preventDefault(),this.hideCalendar()}),this.accept&&this.accept.addEventListener("click",t=>{t.preventDefault();let e=this.body.querySelector('button[tabindex="0"]');e&&(this.dateSelected=!0,this.selectedDay=e.innerText,this.selectedMonth=this.currentMonth,this.selectedYear=this.currentYear,this.setInputValue(),this.input?this.input.focus():this.multipleInput&&(this.trigger.focus(),this.hideCalendar()),this.resetLabelCalendarTrigger())}),this.body.addEventListener("click",t=>{t.preventDefault();let e=t.target.closest("button");e&&(this.dateSelected=!0,this.selectedDay=e.innerText,this.selectedMonth=this.currentMonth,this.selectedYear=this.currentYear,this.setInputValue(),this.input?this.input.focus():this.multipleInput&&(this.trigger.focus(),this.hideCalendar()),this.resetLabelCalendarTrigger())}),this.navigation.addEventListener("click",t=>{t.preventDefault();let e=t.target.closest(".js-date-picker__month-nav-btn"),s=t.target.closest(".js-date-picker__year-nav-btn");e&&e.classList.contains("js-date-picker__month-nav-btn--prev")?this.showPrevMonth(!0):e&&e.classList.contains("js-date-picker__month-nav-btn--next")?this.showNextMonth(!0):s&&s.classList.contains("js-date-picker__year-nav-btn--prev")?this.showPrevYear(!0):s&&s.classList.contains("js-date-picker__year-nav-btn--next")&&this.showNextYear(!0)}),window.addEventListener("keydown",t=>{(t.code&&27===t.code||t.key&&"escape"===t.key.toLowerCase())&&(document.activeElement.closest(".js-date-picker")?document.activeElement.closest(".js-date-input").querySelector("input").focus():this.hideCalendar())}),window.addEventListener("click",t=>{t.target.closest(".js-date-picker")||t.target.closest(".js-date-input")||!this.pickerVisible||this.hideCalendar()}),this.body.addEventListener("keydown",t=>{let e=this.currentDay;t.code&&40===t.code||t.key&&"arrowdown"===t.key.toLowerCase()?(e+=7,this.resetDayValue(e)):t.code&&39===t.code||t.key&&"arrowright"===t.key.toLowerCase()?(e+=1,this.resetDayValue(e)):t.code&&37===t.code||t.key&&"arrowleft"===t.key.toLowerCase()?(e-=1,this.resetDayValue(e)):t.code&&38===t.code||t.key&&"arrowup"===t.key.toLowerCase()?(e-=7,this.resetDayValue(e)):t.code&&35===t.code||t.key&&"end"===t.key.toLowerCase()?(t.preventDefault(),e=e+6-this.getDayOfWeek(this.currentYear,this.currentMonth,e),this.resetDayValue(e)):t.code&&36===t.code||t.key&&"home"===t.key.toLowerCase()?(t.preventDefault(),e-=this.getDayOfWeek(this.currentYear,this.currentMonth,e),this.resetDayValue(e)):t.code&&34===t.code||t.key&&"pagedown"===t.key.toLowerCase()?(t.preventDefault(),this.showNextMonth()):(t.code&&33===t.code||t.key&&"pageup"===t.key.toLowerCase())&&(t.preventDefault(),this.showPrevMonth())}),this.datePicker.addEventListener("keydown",t=>{(t.code&&9===t.code||t.key&&"Tab"===t.key)&&this.trapFocus(t)}),this.input&&this.input.addEventListener("keydown",t=>{t.code&&13===t.code||t.key&&"enter"===t.key.toLowerCase()?(this.resetCalendar(),this.resetLabelCalendarTrigger(),this.hideCalendar()):(t.code&&40===t.code||t.key&&"arrowdown"===t.key.toLowerCase()&&this.pickerVisible)&&this.body.querySelector('button[tabindex="0"]').focus()}),this.multipleInput&&this.multiDateArray.forEach(t=>{t.addEventListener("keydown",t=>{t.code&&13===t.code||t.key&&"enter"===t.key.toLowerCase()?(this.resetCalendar(),this.resetLabelCalendarTrigger(),this.hideCalendar()):(t.code&&40===t.code||t.key&&"arrowdown"===t.key.toLowerCase()&&this.pickerVisible)&&this.body.querySelector('button[tabindex="0"]').focus()})})}getCurrentDay(t){return t?this.getDayFromDate(t):new Date().getDate()}getCurrentMonth(t){return t?this.getMonthFromDate(t):new Date().getMonth()}getCurrentYear(t){return t?this.getYearFromDate(t):new Date().getFullYear()}getDayFromDate(t){let e=parseInt(t.split("-")[2],10);return Number.isNaN(e)?this.getCurrentDay(!1):e}getMonthFromDate(t){let e=parseInt(t.split("-")[1],10)-1;return Number.isNaN(e)?this.getCurrentMonth(!1):e}getYearFromDate(t){let e=parseInt(t.split("-")[0],10);return Number.isNaN(e)?this.getCurrentYear(!1):e}showNextMonth(t){this.currentYear=11===this.currentMonth?this.currentYear+1:this.currentYear,this.currentMonth=(this.currentMonth+1)%12,this.currentDay=this.checkDayInMonth(),this.showCalendar(t),this.srLiveReagion.textContent=`${this.months[this.currentMonth]} ${this.currentYear}`}showPrevMonth(t){this.currentYear=0===this.currentMonth?this.currentYear-1:this.currentYear,this.currentMonth=0===this.currentMonth?11:this.currentMonth-1,this.currentDay=this.checkDayInMonth(),this.showCalendar(t),this.srLiveReagion.textContent=`${this.months[this.currentMonth]} ${this.currentYear}`}showNextYear(t){this.currentYear+=1,this.currentMonth%=12,this.currentDay=this.checkDayInMonth(),this.showCalendar(t),this.srLiveReagion.textContent=`${this.months[this.currentMonth]} ${this.currentYear}`}showPrevYear(t){this.currentYear-=1,this.currentMonth%=12,this.currentDay=this.checkDayInMonth(),this.showCalendar(t),this.srLiveReagion.textContent=`${this.months[this.currentMonth]} ${this.currentYear}`}checkDayInMonth(){return this.currentDay>this.constructor.daysInMonth(this.currentYear,this.currentMonth)?1:this.currentDay}static daysInMonth(t,e){return 32-new Date(t,e,32).getDate()}resetCalendar(){let t,e=!1;if(this.input?t=this.input.value:this.multipleInput&&(t=""!==this.dateInput.value&&""!==this.monthInput.value&&""!==this.yearInput.value?`${this.dateInput.value}/${this.monthInput.value}/${this.yearInput.value}`:""),this.dateSelected=!1,""!==t){let t=this.getDateFromInput();this.dateSelected=!0,e=t}this.currentDay=this.getCurrentDay(e),this.currentMonth=this.getCurrentMonth(e),this.currentYear=this.getCurrentYear(e),this.selectedDay=!!this.dateSelected&&this.currentDay,this.selectedMonth=!!this.dateSelected&&this.currentMonth,this.selectedYear=!!this.dateSelected&&this.currentYear}disabledDates(){this.disabledArray=[],this.datesDisabled&&this.datesDisabled.split(" ").forEach(t=>{this.disabledArray.push(t)})}convertDateToParse(t){let e=t.split(this.dateSeparator);return`${e[this.dateIndexes[2]]}, ${e[this.dateIndexes[1]]}, ${e[this.dateIndexes[0]]}`}isDisabledDate(t,e,s){let i=!1,n=new Date(s,e,t),l=new Date(this.convertDateToParse(this.minDate)),a=new Date(this.convertDateToParse(this.maxDate));return this.minDate&&l>n&&(i=!0),this.maxDate&&a<n&&(i=!0),this.disabledArray.length>0&&this.disabledArray.forEach(t=>{let e=new Date(this.convertDateToParse(t));n.getTime()===e.getTime()&&(i=!0)}),i}showCalendar(t){let e=this.constructor.getDayOfWeek(this.currentYear,this.currentMonth,"01");this.body.innerHTML="",this.heading.innerHTML=`${this.months[this.currentMonth]} ${this.currentYear}`;let s=1,i="";for(let t=0;t<6;t+=1)for(let n=0;n<7;n+=1)if(0===t&&n<e)i+="<li></li>";else if(s>this.constructor.daysInMonth(this.currentYear,this.currentMonth))break;else{let t,e="",n="-1";s===this.currentDay&&(n="0"),this.getCurrentMonth()===this.currentMonth&&this.getCurrentYear()===this.currentYear&&s===this.getCurrentDay()&&(e+=` ${this.todayClass}`),this.isDisabledDate(s,this.currentMonth,this.currentYear)&&(e+=` ${this.dateClass}--disabled`,t='aria-disabled="true"'),this.dateSelected&&s===this.selectedDay&&this.currentYear===this.selectedYear&&this.currentMonth===this.selectedMonth&&(e+=` ${this.selectedClass}`),i=`${i}<li><button class="${this.dateClass}${e}" tabindex="${n}" type="button" ${t||""}>${s}</button></li>`,s+=1}this.body.innerHTML=i,this.pickerVisible||this.datePicker.classList.add(this.visibleClass),this.pickerVisible=!0,t||this.body.querySelector('button[tabindex="0"]').focus(),this.getFocusableElements(),this.placeCalendar()}hideCalendar(){this.datePicker.classList.remove(this.visibleClass),this.pickerVisible=!1,this.firstFocusable=!1,this.lastFocusable=!1,this.trigger&&this.trigger.setAttribute("aria-expanded","false")}toggleCalendar(t){this.pickerVisible?this.hideCalendar():(this.resetCalendar(),this.showCalendar(t))}static getDayOfWeek(t,e,s){let i=new Date(t,e,s).getDay()-1;return i<0&&(i=6),i}getDateIndexes(){let t=this.dateFormat.toLowerCase().replace(/-/g,"");return[t.indexOf("d"),t.indexOf("m"),t.indexOf("y")]}setInputValue(){this.input?this.input.value=this.getDateForInput(this.selectedDay,this.selectedMonth,this.selectedYear):this.multipleInput&&(this.dateInput.value=this.constructor.getReadableDate(this.selectedDay),this.monthInput.value=this.constructor.getReadableDate(this.selectedMonth+1),this.yearInput.value=this.selectedYear)}getDateForInput(t,e,s){let i=[];return i[this.dateIndexes[0]]=this.constructor.getReadableDate(t),i[this.dateIndexes[1]]=this.constructor.getReadableDate(e+1),i[this.dateIndexes[2]]=s,i[0]+this.dateSeparator+i[1]+this.dateSeparator+i[2]}getDateFromInput(){let t;return this.input?t=this.input.value.split(this.dateSeparator):this.multipleInput&&(t=[this.dateInput.value,this.monthInput.value,this.yearInput.value]),`${t[this.dateIndexes[2]]}-${t[this.dateIndexes[1]]}-${t[this.dateIndexes[0]]}`}static getReadableDate(t){return t<10?`0${t}`:t}resetDayValue(t){let e=this.constructor.daysInMonth(this.currentYear,this.currentMonth);if(t>e)this.currentDay=t-e,this.showNextMonth(!1);else if(t<1){let e=0===this.currentMonth?11:this.currentMonth-1;this.currentDay=this.constructor.daysInMonth(this.currentYear,e)+t,this.showPrevMonth(!1)}else{this.currentDay=t;let e=this.body.querySelector('button[tabindex="0"]');e.setAttribute("tabindex","-1"),e.classList.remove(this.keyboardFocusClass);let s=this.body.getElementsByTagName("button");for(let t=0;t<s.length;t+=1)if(parseInt(s[t].textContent,10)===this.currentDay){s[t].setAttribute("tabindex","0"),s[t].classList.add(this.keyboardFocusClass),s[t].focus();break}this.getFocusableElements()}}resetLabelCalendarTrigger(){this.trigger&&(this.selectedYear&&!1!==this.selectedMonth&&this.selectedDay?this.trigger.setAttribute("aria-label",`Selected date is ${new Date(this.selectedYear,this.selectedMonth,this.selectedDay).toDateString()}`):this.trigger.setAttribute("aria-label",this.triggerLabel))}getFocusableElements(){let t=this.datePicker.querySelectorAll('[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable], audio[controls], video[controls], summary');this.getFirstFocusable(t),this.getLastFocusable(t)}getFirstFocusable(t){for(let e=0;e<t.length;e+=1)if((t[e].offsetWidth||t[e].offsetHeight||t[e].getClientRects().length)&&"-1"!==t[e].getAttribute("tabindex"))return this.firstFocusable=t[e],!0;return!1}getLastFocusable(t){for(let e=t.length-1;e>=0;e-=1)if((t[e].offsetWidth||t[e].offsetHeight||t[e].getClientRects().length)&&"-1"!==t[e].getAttribute("tabindex"))return this.lastFocusable=t[e],!0;return!1}trapFocus(t){this.firstFocusable===document.activeElement&&t.shiftKey&&(t.preventDefault(),this.lastFocusable.focus()),this.lastFocusable!==document.activeElement||t.shiftKey||(t.preventDefault(),this.firstFocusable.focus())}placeCalendar(){this.datePicker.style.left="0px",this.datePicker.style.right="auto",this.datePicker.getBoundingClientRect().right>window.innerWidth&&(this.datePicker.style.left="auto",this.datePicker.style.right="0px")}}function m(t){return Math.sign?Math.sign(t):(t>0)-(t<0)||+t}class b{constructor(t){this.element=t,this.delta=[!1,!1],this.dragging=!1,this.intervalId=!1,this.changedTouches=!1}init(){this.element.addEventListener("mousedown",this.handleEvent.bind(this)),this.element.addEventListener("touchstart",this.handleEvent.bind(this),{passive:!0})}initDragging(){this.element.addEventListener("mousemove",this.handleEvent.bind(this)),this.element.addEventListener("touchmove",this.handleEvent.bind(this),{passive:!0}),this.element.addEventListener("mouseup",this.handleEvent.bind(this)),this.element.addEventListener("mouseleave",this.handleEvent.bind(this)),this.element.addEventListener("touchend",this.handleEvent.bind(this))}cancelDragging(){this.intervalId&&(window.requestAnimationFrame?window.cancelAnimationFrame(this.intervalId):clearInterval(this.intervalId),this.intervalId=!1),this.element.removeEventListener("mousemove",this.handleEvent.bind(this)),this.element.removeEventListener("touchmove",this.handleEvent.bind(this)),this.element.removeEventListener("mouseup",this.handleEvent.bind(this)),this.element.removeEventListener("mouseleave",this.handleEvent.bind(this)),this.element.removeEventListener("touchend",this.handleEvent.bind(this))}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":this.startDrag(t);break;case"mousemove":case"touchmove":this.drag(t);break;case"mouseup":case"mouseleave":case"touchend":this.endDrag(t);break;default:console.log(`${t.type}.`)}}startDrag(t){this.dragging=!0,this.initDragging(),this.delta=[parseInt(this.unify(t).clientX,10),parseInt(this.unify(t).clientY,10)],this.emitSwipeEvents("dragStart",this.delta,t.target)}endDrag(t){this.cancelDragging();let e=parseInt(this.unify(t).clientX,10),s=parseInt(this.unify(t).clientY,10);if(this.delta&&(this.delta[0]||0===this.delta[0])){let t=m(e-this.delta[0]);Math.abs(e-this.delta[0])>30&&(t<0?this.emitSwipeEvents("swipeLeft",[e,s]):this.emitSwipeEvents("swipeRight",[e,s])),this.delta[0]=!1}if(this.delta&&(this.delta[1]||0===this.delta[1])){let t=m(s-this.delta[1]);Math.abs(s-this.delta[1])>30&&(t<0?this.emitSwipeEvents("swipeUp",[e,s]):this.emitSwipeEvents("swipeDown",[e,s])),this.delta[1]=!1}this.emitSwipeEvents("dragEnd",[e,s]),this.dragging=!1}drag(t){this.dragging&&(window.requestAnimationFrame?this.intervalId=window.requestAnimationFrame(()=>{this.emitDrag(t)}):this.intervalId=setTimeout(()=>{this.emitDrag(t)},250))}unify(t){return this.changedTouches=t.changedTouches,this.changedTouches?this.changedTouches[0]:t}emitDrag(t){this.emitSwipeEvents("dragging",[parseInt(this.unify(t).clientX,10),parseInt(this.unify(t).clientY,10)])}emitSwipeEvents(t,e,s){let i=!1;s&&(i=s);let n=new CustomEvent(t,{detail:{x:e[0],y:e[1],origin:i}});this.element.dispatchEvent(n)}}class g extends b{constructor(t){super(t),this.element=t,this.containerClass="nsw-carousel-container",this.controlClass="js-carousel__control",this.wrapperClass="js-carousel__wrapper",this.counterClass="js-carousel__counter",this.counterTorClass="js-carousel__counter-tot",this.navClass="js-carousel__navigation",this.navItemClass="js-carousel__nav-item",this.navigationItemClass=this.element.getAttribute("data-navigation-item-class")?this.element.getAttribute("data-navigation-item-class"):"nsw-carousel__nav-item",this.navigationClass=this.element.getAttribute("data-navigation-class")?this.element.getAttribute("data-navigation-class"):"nsw-carousel__navigation",this.paginationClass=this.element.getAttribute("data-pagination-class")?this.element.getAttribute("data-pagination-class"):"nsw-carousel__navigation--pagination",this.draggingClass="nsw-carousel--is-dragging",this.loadedClass="nsw-carousel--loaded",this.animateClass="nsw-carousel__list--animating",this.cloneClass="js-clone",this.srClass="sr-only",this.srLiveAreaClass="js-carousel__aria-live",this.hideControlsClass="nsw-carousel--hide-controls",this.hideClass="nsw-display-none",this.centerClass="nsw-justify-content-center",this.listWrapper=this.element.querySelector(`.${this.wrapperClass}`),this.list=!!this.listWrapper&&this.listWrapper.querySelector("ol"),this.items=!!this.list&&this.list.getElementsByTagName("li"),this.controls=this.element.querySelectorAll(`.${this.controlClass}`),this.counter=this.element.querySelectorAll(`.${this.counterClass}`),this.counterTor=this.element.querySelectorAll(`.${this.counterTorClass}`),this.ariaLabel=this.element.getAttribute("data-description")?this.element.getAttribute("data-description"):"Card carousel",this.dragEnabled=!!(this.element.getAttribute("data-drag")&&"on"===this.element.getAttribute("data-drag")),this.loop=!!(this.element.getAttribute("data-loop")&&"on"===this.element.getAttribute("data-loop")),this.nav=!(this.element.getAttribute("data-navigation")&&"off"===this.element.getAttribute("data-navigation")),this.navigationPagination=!!(this.element.getAttribute("data-navigation-pagination")&&"on"===this.element.getAttribute("data-navigation-pagination")),this.justifyContent=!!(this.element.getAttribute("data-justify-content")&&"on"===this.element.getAttribute("data-justify-content")),this.initItems=[],this.itemsNb=this.items.length,this.visibItemsNb=1,this.itemsWidth=1,this.itemOriginalWidth=!1,this.selectedItem=0,this.translateContainer=0,this.containerWidth=0,this.animating=!1,this.dragStart=!1,this.resizeId=!1,this.cloneList=[],this.itemAutoSize=!1,this.totTranslate=0,this.nav&&(this.loop=!1),this.flexSupported=CSS.supports("align-items","stretch"),this.transitionSupported=CSS.supports("transition","transform"),this.cssPropertiesSupported="CSS"in window&&CSS.supports("color","var(--color-var)")}init(){this.items&&(this.initCarouselLayout(),this.setItemsWidth(!0),this.insertBefore(this.visibItemsNb),this.updateCarouselClones(),this.resetItemsTabIndex(),this.initAriaLive(),this.initCarouselEvents(),this.initCarouselCounter())}initCarouselLayout(){this.element.classList.add(this.loadedClass),this.element.setAttribute("aria-roledescription","carousel"),this.element.setAttribute("aria-label",this.ariaLabel);let t=Array.from(this.items);t.forEach((e,s)=>{e.setAttribute("aria-roledescription","slide"),e.setAttribute("aria-label",`${s+1} of ${t.length}`),e.setAttribute("data-index",s)}),this.carouselCreateContainer();let e=this.items&&window.getComputedStyle(this.items[0]),s=this.listWrapper&&window.getComputedStyle(this.listWrapper),i=e?parseFloat(e.getPropertyValue("width")):0,n=e?parseFloat(e.getPropertyValue("margin-right")):0,l=s?parseFloat(s.getPropertyValue("padding-left")):0,a=s?parseFloat(s.getPropertyValue("width")):0;this.itemAutoSize||(this.itemAutoSize=i),a=this.getCarouselWidth(a),this.itemOriginalWidth?i=this.itemOriginalWidth:this.itemOriginalWidth=i,this.itemAutoSize&&(this.itemOriginalWidth=parseInt(this.itemAutoSize,10),i=this.itemOriginalWidth),a<i&&(this.itemOriginalWidth=a,i=this.itemOriginalWidth),this.visibItemsNb=parseInt((a-2*l+n)/(i+n),10),this.itemsWidth=parseFloat(((a-2*l+n)/this.visibItemsNb-n).toFixed(1)),this.containerWidth=(this.itemsWidth+n)*this.items.length,this.translateContainer=0-(this.itemsWidth+n)*this.visibItemsNb,this.flexSupported||(this.list.style.width=`${(this.itemsWidth+n)*this.visibItemsNb*3}px`),this.totTranslate=0-this.selectedItem*(this.itemsWidth+n),this.items.length<=this.visibItemsNb&&(this.totTranslate=0),this.centerItems()}carouselCreateContainer(){if(!this.element.parentElement.classList.contains(this.containerClass)){let t=document.createElement("div");t.classList.add(this.containerClass),this.element.parentNode.insertBefore(t,this.element),t.appendChild(this.element)}}setItemsWidth(t){for(let e=0;e<this.items.length;e+=1)this.items[e].style.width=`${this.itemsWidth}px`,t&&this.initItems.push(this.items[e])}updateCarouselClones(){this.loop&&(this.items.length<3*this.visibItemsNb?this.insertAfter(3*this.visibItemsNb-this.items.length,this.items.length-2*this.visibItemsNb):this.items.length>3*this.visibItemsNb&&this.removeClones(3*this.visibItemsNb,this.items.length-3*this.visibItemsNb),this.setTranslate(`translateX(${this.translateContainer}px)`))}initCarouselEvents(){this.nav&&(this.carouselCreateNavigation(),this.carouselInitNavigationEvents()),this.controls.length>0&&(this.controls[0].addEventListener("click",t=>{t.preventDefault(),this.showPrevItems(),this.updateAriaLive()}),this.controls[1].addEventListener("click",t=>{t.preventDefault(),this.showNextItems(),this.updateAriaLive()}),this.resetCarouselControls(),this.emitCarouselActiveItemsEvent()),this.dragEnabled&&window.requestAnimationFrame&&(super.init(),this.element.addEventListener("dragStart",t=>{!(t.detail.origin&&t.detail.origin.closest(`.${this.controlClass}`)||t.detail.origin&&t.detail.origin.closest(`.${this.navClass}`))&&(!t.detail.origin||t.detail.origin.closest(`.${this.wrapperClass}`))&&(this.element.classList.add(this.draggingClass),this.dragStart=t.detail.x,this.animateDragEnd())}),this.element.addEventListener("dragging",t=>{if(!this.dragStart||this.animating||10>Math.abs(t.detail.x-this.dragStart))return;let e=t.detail.x-this.dragStart+this.translateContainer;this.loop||(e=t.detail.x-this.dragStart+this.totTranslate),this.setTranslate(`translateX(${e}px)`)})),window.addEventListener("resize",()=>{clearTimeout(this.resizeId),this.resizeId=setTimeout(()=>{this.resetCarouselResize(),this.resetDotsNavigation(),this.resetCarouselControls(),this.setCounterItem(),this.centerItems(),this.emitCarouselActiveItemsEvent()},250)}),this.element.addEventListener("keydown",t=>{t.key&&"arrowright"===t.key.toLowerCase()?this.showNextItems():t.key&&"arrowleft"===t.key.toLowerCase()||t.key&&"home"===t.key.toLowerCase()?this.showPrevItems():t.key&&"end"===t.key.toLowerCase()?this.showNextItems():t.key&&"enter"===t.key.toLowerCase()&&(t.preventDefault(),t.target.click())});let t=this.element.querySelectorAll(".nsw-carousel__item a");t.length>0&&t.forEach((e,s)=>{e.addEventListener("focus",()=>{e.closest(".js-carousel__wrapper").querySelector(".nsw-carousel__list")&&e.focus({preventScroll:!0})}),e.addEventListener("focusout",()=>{let i=Number(e.closest(".nsw-carousel__item").getAttribute("data-index"))+1;i%this.visibItemsNb==0&&i!==this.items.length&&(t[s+1].focus({preventScroll:!0}),this.showNextItems())})})}showPrevItems(){this.animating||(this.animating=!0,this.selectedItem=this.getIndex(this.selectedItem-this.visibItemsNb),this.animateList("0","prev"))}showNextItems(){this.animating||(this.animating=!0,this.selectedItem=this.getIndex(this.selectedItem+this.visibItemsNb),this.animateList(`${2*this.translateContainer}px`,"next"))}animateDragEnd(){let t=e=>{if(this.element.removeEventListener("dragEnd",t),this.element.classList.remove(this.draggingClass),e.detail.x-this.dragStart<-40)this.animating=!1,this.showNextItems();else if(e.detail.x-this.dragStart>40)this.animating=!1,this.showPrevItems();else{if(e.detail.x-this.dragStart==0)return;this.animating=!0,this.animateList(`${this.translateContainer}px`,!1)}this.dragStart=!1};this.element.addEventListener("dragEnd",t)}animateList(t,e){let s=t;this.list.classList.add(this.animateClass);let i=this.totTranslate;if(this.loop||(s=this.noLoopTranslateValue(e)),setTimeout(()=>{this.setTranslate(`translateX(${s})`)}),this.transitionSupported){let t=s=>{s.propertyName&&"transform"!==s.propertyName||(this.list&&(this.list.classList.remove(this.animateClass),this.list.removeEventListener("transitionend",t)),this.animateListCb(e))};this.list.addEventListener("transitionend",t)}else this.animateListCb(e);this.loop||i!==this.totTranslate||this.list.dispatchEvent(new CustomEvent("transitionend")),this.resetCarouselControls(),this.setCounterItem(),this.emitCarouselActiveItemsEvent()}noLoopTranslateValue(t){let e=this.totTranslate;return"next"===t?e=this.totTranslate+this.translateContainer:"prev"===t?e=this.totTranslate-this.translateContainer:"click"===t&&(e=this.selectedDotIndex*this.translateContainer),e>0&&(e=0,this.selectedItem=0),e<-this.translateContainer-this.containerWidth&&(e=-this.translateContainer-this.containerWidth,this.selectedItem=this.items.length-this.visibItemsNb),this.visibItemsNb>this.items.length&&(e=0),this.totTranslate=e,`${e}px`}animateListCb(t){t&&this.updateClones(t),this.animating=!1,this.resetItemsTabIndex()}updateClones(t){if(!this.loop)return;let e="next"===t?0:this.items.length-this.visibItemsNb;this.removeClones(e,!1),"next"===t?this.insertAfter(this.visibItemsNb,0):this.insertBefore(this.visibItemsNb),this.setTranslate(`translateX(${this.translateContainer}px)`)}insertBefore(t,e){if(!this.loop)return;let s=document.createDocumentFragment(),i=0;e&&(i=e);for(let e=i;e<t;e+=1){let t=this.getIndex(this.selectedItem-e-1),i=this.initItems[t].cloneNode(!0);i.classList.add(this.cloneClass),s.insertBefore(i,s.firstChild)}this.list.insertBefore(s,this.list.firstChild),this.emitCarouselUpdateEvent()}insertAfter(t,e){if(!this.loop)return;let s=document.createDocumentFragment();for(let i=e;i<t+e;i+=1){let t=this.getIndex(this.selectedItem+this.visibItemsNb+i),e=this.initItems[t].cloneNode(!0);e.classList.add(this.cloneClass),s.appendChild(e)}this.list.appendChild(s),this.emitCarouselUpdateEvent()}removeClones(t,e){let s=e;if(this.loop){e||(s=this.visibItemsNb);for(let e=0;e<s;e+=1)this.items[t]&&this.list.removeChild(this.items[t])}}resetCarouselResize(){let t=this.visibItemsNb;if(this.resetItemAutoSize(),this.initCarouselLayout(),this.setItemsWidth(!1),this.resetItemsWidth(),this.loop)t>this.visibItemsNb?this.removeClones(0,t-this.visibItemsNb):t<this.visibItemsNb&&this.insertBefore(this.visibItemsNb,t),this.updateCarouselClones();else{let t=this.noLoopTranslateValue();this.setTranslate(`translateX(${t})`)}this.resetItemsTabIndex()}resetItemAutoSize(){this.cssPropertiesSupported&&(this.items[0].removeAttribute("style"),this.itemAutoSize=getComputedStyle(this.items[0]).getPropertyValue("width"))}resetItemsWidth(){this.initItems.forEach(t=>{t.style.width=`${this.itemsWidth}px`})}resetItemsTabIndex(){let t=this.items.length>this.visibItemsNb,e=this.items.length;for(let s=0;s<this.items.length;s+=1)this.loop?s<this.visibItemsNb||s>=2*this.visibItemsNb?(this.items[s].setAttribute("tabindex","-1"),this.items[s].setAttribute("aria-hidden","true"),this.items[s].removeAttribute("aria-current")):(s<e&&(e=s),this.items[s].removeAttribute("tabindex"),this.items[s].removeAttribute("aria-hidden"),this.items[s].setAttribute("aria-current","true")):(s<this.selectedItem||s>=this.selectedItem+this.visibItemsNb)&&t?(this.items[s].setAttribute("tabindex","-1"),this.items[s].setAttribute("aria-hidden","true"),this.items[s].removeAttribute("aria-current")):(s<e&&(e=s),this.items[s].removeAttribute("tabindex"),this.items[s].removeAttribute("aria-hidden"),this.items[s].setAttribute("aria-current","true"));this.resetVisibilityOverflowItems(e)}initAriaLive(){let t=document.createElement("div");t.setAttribute("class",`${this.srClass} ${this.srLiveAreaClass}`),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),this.element.appendChild(t),this.ariaLive=t}updateAriaLive(){this.ariaLive.innerHTML=`Item ${this.selectedItem+1} selected. ${this.visibItemsNb} items of ${this.initItems.length} visible`}getIndex(t){let e=t;return e<0&&(e=this.getPositiveValue(e,this.itemsNb)),e>=this.itemsNb&&(e%=this.itemsNb),e}getPositiveValue(t,e){let s=t;return(s+=e)>0?s:this.getPositiveValue(s,e)}setTranslate(t){this.list.style.transform=t,this.list.style.msTransform=t}getCarouselWidth(t){let e=t,s=this.listWrapper.closest(`.${this.srClass}`);return s?(s.classList.remove(this.srClass),e=this.listWrapper.offsetWidth,s.classList.add(this.srClass)):Number.isNaN(e)&&(e=this.getHiddenParentWidth(this.element)),e}getHiddenParentWidth(t){let e=t.parentElement;if("html"===e.tagName.toLowerCase())return 0;let s=window.getComputedStyle(e);if("none"===s.display||"hidden"===s.visibility){e.setAttribute("style","display: block!important; visibility: visible!important;");let t=this.listWrapper.offsetWidth;return e.style.display="",e.style.visibility="",t}return this.getHiddenParentWidth(e)}resetCarouselControls(){if(!this.loop){if(this.controls.length>0&&(0===this.totTranslate?this.controls[0].setAttribute("disabled",!0):this.controls[0].removeAttribute("disabled"),this.totTranslate===-this.translateContainer-this.containerWidth||this.items.length<=this.visibItemsNb?this.controls[1].setAttribute("disabled",!0):this.controls[1].removeAttribute("disabled")),this.nav){let t=this.navigation.querySelectorAll(`.${this.navigationItemClass}--selected`);t.length>0&&t[0].classList.remove(`${this.navigationItemClass}--selected`);let e=this.getSelectedDot();this.totTranslate===-this.translateContainer-this.containerWidth&&(e=this.navDots.length-1),this.navDots[e].classList.add(`${this.navigationItemClass}--selected`)}0===this.totTranslate&&(this.totTranslate===-this.translateContainer-this.containerWidth||this.items.length<=this.visibItemsNb)?this.element.classList.add(this.hideControlsClass):this.element.classList.remove(this.hideControlsClass)}}emitCarouselUpdateEvent(){this.cloneList=[],this.element.querySelectorAll(`.${this.cloneClass}`).forEach(t=>{t.classList.remove(this.cloneClass),this.cloneList.push(t)}),this.emitCarouselEvents("carousel-updated",this.cloneList)}carouselCreateNavigation(){if(this.element.querySelectorAll(`.${this.navClass}`).length>0)return;let t=document.createElement("ol"),e="",s="";s=this.navigationPagination?`${this.navigationClass} ${this.paginationClass} ${this.navClass}`:`${this.navigationClass} ${this.navClass}`,this.items.length<=this.visibItemsNb&&(s+=` ${this.hideClass}`),t.setAttribute("class",s);let i=Math.ceil(this.items.length/this.visibItemsNb),n=this.getSelectedDot(),l=this.navigationPagination?"":this.srClass;for(let t=0;t<i;t+=1){let s=t===n?`class="${this.navigationItemClass} ${this.navigationItemClass}--selected ${this.navItemClass}"`:`class="${this.navigationItemClass} ${this.navItemClass}"`;e=`${e}<li ${s}><button><span class="${l}">${t+1}</span></button></li>`}t.innerHTML=e,this.element.appendChild(t)}carouselInitNavigationEvents(){this.navigation=this.element.querySelector(`.${this.navClass}`),this.navDots=this.element.querySelectorAll(`.${this.navItemClass}`),this.navIdEvent=this.carouselNavigationClick.bind(this),this.navigation.addEventListener("click",this.navIdEvent)}carouselRemoveNavigation(){this.navigation&&this.element.removeChild(this.navigation),this.navIdEvent&&this.navigation.removeEventListener("click",this.navIdEvent)}resetDotsNavigation(){this.nav&&(this.carouselRemoveNavigation(),this.carouselCreateNavigation(),this.carouselInitNavigationEvents())}carouselNavigationClick(t){let e=t.target.closest(`.${this.navItemClass}`);if(!e||this.animating)return;this.animating=!0;let s=Array.from(this.navDots).indexOf(e);this.selectedDotIndex=s,this.selectedItem=s*this.visibItemsNb,this.animateList(!1,"click")}getSelectedDot(){return Math.ceil(this.selectedItem/this.visibItemsNb)}initCarouselCounter(){this.counterTor.length>0&&(this.counterTor[0].textContent=this.itemsNb),this.setCounterItem()}setCounterItem(){if(0===this.counter.length)return;let t=this.selectedItem+this.visibItemsNb;t>this.items.length&&(t=this.items.length),this.counter[0].textContent=t}centerItems(){this.justifyContent&&this.list.classList.toggle(this.centerClass,this.items.length<this.visibItemsNb)}emitCarouselActiveItemsEvent(){this.emitCarouselEvents("carousel-active-items",{firstSelectedItem:this.selectedItem,visibleItemsNb:this.visibItemsNb})}emitCarouselEvents(t,e){let s=new CustomEvent(t,{detail:e});this.element.dispatchEvent(s)}resetVisibilityOverflowItems(t){let e=this.containerWidth/this.items.length,s=Math.ceil((window.innerWidth-e*this.visibItemsNb)/2/e);for(let e=0;e<s;e+=1){let s=t-1-e;s>=0&&this.items[s].removeAttribute("tabindex");let i=t+this.visibItemsNb+e;i<this.items.length&&this.items[i].removeAttribute("tabindex")}}}class v{constructor(t){this.element=t,this.elementWrapper=this.element.querySelector(".nsw-dialog__wrapper"),this.openBtn=document.querySelectorAll(`.js-open-dialog-${this.element.getAttribute("id")}`),this.closeBtn=this.element.querySelectorAll(".js-close-dialog"),this.focusableEls=this.element.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),this.body=document.body,this.openEvent=this.openDialog.bind(this),this.closeEvent=this.closeDialog.bind(this),this.clickEvent=this.clickDialog.bind(this),this.trapEvent=this.trapFocus.bind(this)}init(){this.controls()}controls(){this.elementWrapper&&(this.openBtn.forEach(t=>{t.addEventListener("click",this.openEvent,!1)}),this.closeBtn.forEach(t=>{t.addEventListener("click",this.closeEvent,!1)}),this.element.classList.contains("js-dialog-dismiss")&&this.element.addEventListener("click",this.clickEvent,!1),this.focusableEls.length>0&&this.focusableEls[this.focusableEls.length-1].addEventListener("blur",this.trapEvent,!1))}openDialog(){this.element.setAttribute("aria-expanded","true"),this.element.classList.add("active"),this.body.classList.add("dialog-active"),this.focusableEls.length>0&&this.focusableEls[0].focus()}closeDialog(){this.element.setAttribute("aria-expanded","false"),this.element.classList.remove("active"),this.body.classList.remove("dialog-active")}clickDialog(t){this.elementWrapper.contains(t.target)||this.closeDialog()}trapFocus(t){t.preventDefault(),this.focusableEls.length>0&&this.focusableEls[0].focus()}}class f{constructor(t){this.element=t,this.uID=l("external"),this.linkIcon=this.element.querySelector(".nsw-material-icons"),this.linkIconTitle=!!this.linkIcon&&this.linkIcon.getAttribute("title"),this.linkElement=!1}init(){"A"===this.element.tagName&&(this.element.classList.add("nsw-link","nsw-link--icon"),this.constructor.setAttributes(this.element,{target:"_blank",rel:"noopener"}),this.linkIcon&&this.constructor.setAttributes(this.linkIcon,{focusable:"false","aria-hidden":"true"}),this.linkIconTitle&&this.createElement(this.linkIconTitle))}createElement(t){t&&(this.linkElement=document.createElement("span"),this.linkElement.id=this.uID,this.linkElement.classList.add("sr-only"),this.linkElement.innerText=t,this.element.insertAdjacentElement("afterend",this.linkElement),this.constructor.setAttributes(this.element,{"aria-describedby":this.uID}))}static setAttributes(t,e){Object.keys(e).forEach(s=>t.setAttribute(s,e[s]))}}class y{constructor(t){this.element=t,this.input=this.element.querySelector("input.nsw-file-upload__input"),this.label=this.element.querySelector("label.nsw-file-upload__label"),this.multipleUpload=this.input&&this.input.hasAttribute("multiple"),this.replaceFiles=this.element.hasAttribute("data-replace-files"),this.filesList=null}init(){if(this.input){if(!this.label){let t=document.createElement("label");t.htmlFor=this.input.id,t.classList.add("nsw-file-upload__label","nsw-button","nsw-button--dark-outline-solid"),t.textContent="Select file",this.element.insertAdjacentElement("beforeend",t),this.label=this.element.querySelector("label.nsw-file-upload__label")}this.input.addEventListener("change",this.handleInputChange.bind(this)),this.element.addEventListener("click",this.handleFileRemove.bind(this))}}handleInputChange(){this.updateFileList()}createFileList(){let t=document.createElement("ul");t.classList.add("nsw-file-upload__list"),this.label.insertAdjacentElement("afterend",t),this.filesList=this.element.querySelector(".nsw-file-upload__list")}createFileItem(t){let e=document.createElement("li");e.classList.add("nsw-file-upload__item");let s=`
      <span class="nsw-file-upload__item-filename"></span>
      <button type="button" class="nsw-icon-button">
        <span class="sr-only">Remove file</span>
        <span class="material-icons nsw-material-icons" focusable="false" aria-hidden="true">cancel</span>
      </button>`;return e.insertAdjacentHTML("afterbegin",s),e.querySelector(".nsw-file-upload__item-filename").textContent=this.constructor.truncateString(t.name,50),e.querySelector(".nsw-file-upload__item-filename").dataset.filename=t.name,e.outerHTML}updateFileList(){if(0===this.input.files.length){if(this.currentFiles&&this.currentFiles.files&&this.currentFiles.files.length>0){this.input.files=this.currentFiles.files;return}this.filesList&&(this.filesList.innerHTML="",this.filesList.classList.remove("active"));return}this.filesList||this.createFileList(),this.filesList.classList.add("active");let t=new DataTransfer,e=new Set;if(this.replaceFiles&&(this.filesList.innerHTML="",this.currentFiles=new DataTransfer),this.multipleUpload&&this.currentFiles&&this.currentFiles.files)for(let s=0;s<this.currentFiles.files.length;s+=1){let i=this.currentFiles.files[s];t.items.add(i),e.add(i.name)}let s="";for(let i=0;i<this.input.files.length;i+=1){let n=this.input.files[i];e.has(n.name)||(t.items.add(n),s+=this.createFileItem(n))}this.currentFiles=t,s&&this.filesList.insertAdjacentHTML("beforeend",s),this.input.files=this.currentFiles.files}handleFileRemove(t){if(!t.target.closest(".nsw-icon-button"))return;t.preventDefault();let e=t.target.closest(".nsw-file-upload__item"),{filename:s}=e.querySelector(".nsw-file-upload__item-filename").dataset,i=new DataTransfer;for(let t=0;t<this.currentFiles.files.length;t+=1){let e=this.currentFiles.files[t];e.name!==s&&i.items.add(e)}this.currentFiles=i,this.input.files=this.currentFiles.files,e.remove(),0===this.filesList.children.length&&this.filesList.classList.remove("active")}static truncateString(t,e){return t.length<=e?t:`${t.slice(0,e)}...`}}class w{constructor(t){this.element=t,this.hideClass="nsw-display-none",this.showClass="active",this.openClass="filters-open",this.prefix="nsw-",this.class="filters",this.controlsClass=`${this.class}__controls`,this.wrapperClass=`${this.class}__wrapper`,this.listClass=`${this.class}__list`,this.itemClass=`${this.class}__item`,this.resetClass=`${this.class}__cancel`,this.submitClass=`${this.class}__accept`,this.closeClass=`${this.class}__back`,this.countClass=`${this.class}__count`,this.allClass=`${this.class}__all`,this.moreClass=`${this.class}__more`,this.count=this.element.querySelector(`.js-${this.countClass}`),this.controls=this.element.querySelector(`.${this.prefix}${this.controlsClass}`),this.controlsButton=this.controls&&this.controls.querySelector("button"),this.controlsButtonIcons=this.controlsButton&&this.controlsButton.querySelectorAll("span"),this.controlsButtonText=this.controlsButton&&this.controlsButton.querySelector("span:not(.nsw-material-icons)"),this.controlsButtonTextContent=this.controlsButton&&this.controlsButtonText.innerText,this.wrapper=this.element.querySelector(`.${this.prefix}${this.wrapperClass}`),this.closeButton=this.wrapper&&this.wrapper.querySelector(`.${this.prefix}${this.closeClass} button`),this.submitButton=this.wrapper&&this.wrapper.querySelector(`.${this.prefix}${this.submitClass} button`),this.resetButton=this.wrapper&&this.wrapper.querySelector(`.${this.prefix}${this.resetClass} button`),this.items=this.wrapper&&this.wrapper.querySelectorAll(`.${this.prefix}${this.itemClass}`),this.accordionButtons=this.wrapper&&this.wrapper.querySelectorAll(`.${this.prefix}${this.itemClass}-button`),this.showMoreContent=this.element.querySelectorAll(`.${this.prefix}${this.allClass}`),this.showMoreButtons=this.element.querySelectorAll(`.${this.prefix}${this.moreClass}`),this.focusableElements='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])',this.selectedOption=this.element.querySelector("option[selected]"),this.buttons=[],this.content=[],this.options=[],this.selected=[]}init(){this.element.classList.add("ready"),this.accordionButtons&&this.accordionButtons.forEach(t=>{let e=l("collapsed");t.setAttribute("type","button"),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-controls",e);let s=t.querySelector(`.${this.prefix}${this.itemClass}-name`);t.setAttribute("data-label",s.innerText);let i=t.nextElementSibling;i.id=t.getAttribute("aria-controls"),i.hidden=!0,this.content.push(i),this.buttons.push(t)}),this.updateDom(),this.initEvents()}initEvents(){document.addEventListener("DOMContentLoaded",()=>{this.updateDom()}),this.options&&this.options.forEach(t=>{t.addEventListener("change",()=>{this.updateDom()})}),this.controlsButton&&this.controlsButton.addEventListener("click",t=>{this.showFilters(t)}),this.submitButton&&(this.submitButton.disabled=!0),this.closeButton&&this.closeButton.addEventListener("click",t=>{this.closeFilters(t)}),this.buttons&&this.buttons.forEach(t=>{t.addEventListener("click",t=>{this.toggleAccordion(t)})}),this.resetButton&&(this.resetButton.addEventListener("click",t=>{this.clearAll(t)}),this.resetButton.addEventListener("change",t=>{this.clearAll(t)})),this.showMoreButtons&&this.showMoreButtons.forEach((t,e)=>{t.addEventListener("click",t=>{this.showMore(t,e)})})}setAccordionState(t,e){let s=this.getTargetContent(t),i=s.querySelector(this.focusableElements);"open"===e?(t.classList.add(this.showClass),t.setAttribute("aria-expanded","true"),s.hidden=!1,this.constructor.moveFocusFn(i)):"close"===e&&(t.classList.remove(this.showClass),t.setAttribute("aria-expanded","false"),s.hidden=!0)}toggleAccordion(t){let{currentTarget:e}=t;this.getTargetContent(e).hidden?this.setAccordionState(e,"open"):this.setAccordionState(e,"close")}getTargetContent(t){let e=this.buttons.indexOf(t);return this.content[e]}toggleSubmit(t){this.submitButton&&(t.length>0?this.submitButton.disabled=!1:this.submitButton.disabled=!0)}showMore(t,e){t.preventDefault();let s=this.showMoreContent[e].querySelector(this.focusableElements);this.showMoreContent[e].classList.remove(this.hideClass),t.target.classList.add(this.hideClass),this.constructor.moveFocusFn(s)}closeFilters(t){t.preventDefault(),this.element.classList.remove(this.showClass),document.body.classList.remove(this.openClass)}showFilters(t){t.preventDefault(),this.element.classList.contains("nsw-filters--down")?this.element.classList.toggle(this.showClass):(this.trapFocus(this.wrapper),this.element.classList.add(this.showClass),document.body.classList.add(this.openClass))}clearAll(t){t.preventDefault();let e=new MouseEvent("change",{view:window,bubbles:!0,cancelable:!0}),s=this.element.querySelector(".js-multi-select"),i=s&&s.querySelector(".js-multi-select__all"),n=s&&s.querySelectorAll(".js-multi-select__option");this.options.length>0&&this.options.forEach(t=>{"text"===t.type?t.value="":"select-one"===t.type?this.selectedOption?(console.log(Array.from(t.options).indexOf(this.selectedOption)),t.selectedIndex=Array.from(t.options).indexOf(this.selectedOption)):t.selectedIndex=0:"checkbox"===t.type?t.defaultChecked?t.checked=!0:t.checked=!1:t.parentElement.classList.contains("js-multi-select__option")||(t.value=!1)}),s&&(i.classList.remove(this.showClass),n.forEach(t=>{t.setAttribute("aria-selected","true"),t.dispatchEvent(new Event(e)),t.click()})),this.updateDom()}getOptions(){this.options=[],this.items&&this.items.forEach(t=>{let e=t.querySelector(`.${this.prefix}${this.itemClass}-content`),s=e.querySelectorAll('input[type="text"]'),i=e.querySelectorAll("select:not([multiple]):not(.nsw-display-none)"),n=e.querySelectorAll("select[multiple]:not(.nsw-display-none)"),l=e.querySelectorAll('input[type="checkbox"]');this.options.push(...s,...i,...l,...n)})}getSelected(){if(this.selected=[],this.options.length>0){let t=this.options.filter(t=>"select-one"===t.type&&""!==t.value),e=this.options.filter(t=>t.checked),s=this.options.filter(t=>"text"===t.type&&""!==t.value),i=this.options.filter(t=>"select-multiple"===t.type&&""!==t.value),n=this.constructor.getMultiSelectValues(i);this.selected=[...t,...e,...s,...n]}}selectedCount(t){if(!this.count)return;let e=t.filter(t=>t.closest(".nsw-form__date")),s=t.filter(t=>!t.closest(".nsw-form__date")),i=`${this.controlsButtonTextContent}`,n="";n=e.length>0?` (${s.length+1})`:` (${t.length})`,0===e.length&&0===t.length||(i+=n),this.controlsButtonText.innerText=i}setSelectedState(){this.buttons.forEach(t=>{let e=t.querySelector(`.${this.prefix}${this.itemClass}-name`),s=t.getAttribute("data-label"),i=Array.from(t.nextElementSibling.querySelectorAll('textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled]):not(.nsw-display-none)')).filter(t=>"checkbox"===t.type||"radio"===t.type?t.checked:""!==t.value);i.length>0?(e.innerText=s,e.innerHTML=`${s} <span class="material-icons nsw-material-icons nsw-material-icons--valid" focusable="false" aria-hidden="true">check_circle</span>`):0===i.length&&(e.innerText=s)})}updateDom(){this.getOptions(),this.getSelected(),this.toggleSubmit(this.selected),this.selectedCount(this.selected),this.setSelectedState()}trapFocus(t){let e=t.querySelectorAll(this.focusableElements),s=e[0],i=e[e.length-1];document.addEventListener("keydown",t=>{(t.code&&9===t.code||t.key&&"Tab"===t.key)&&(document.activeElement===s&&t.shiftKey&&(t.preventDefault(),i.focus()),document.activeElement!==i||t.shiftKey||(t.preventDefault(),s.focus()))}),s.focus()}static getMultiSelectValues(t){let e=[];return t.length>0&&t.forEach(t=>{e=Array.from(t.options).filter(t=>t.selected)}),e}static moveFocusFn(t){t.focus(),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus())}}class E{constructor(t){this.element=t,this.closeButton=this.element.querySelector("button.js-close-alert"),this.cookieName=this.element.getAttribute("data-cookie-name")||!1}init(){if(this.cookieName&&this.constructor.getCookie(this.cookieName)){this.element.hidden=!0;return}this.closeButton&&this.controls()}controls(){this.closeButton.addEventListener("click",()=>{this.closeMessage()})}closeMessage(){this.element.hidden=!0,this.cookieName&&this.constructor.setCookie(this.cookieName,"dismissed",7)}static setCookie(t,e,s){let i=new Date;i.setTime(i.getTime()+864e5*s);let n=`expires=${i.toUTCString()}`;document.cookie=`${t}=${e};${n};path=/`}static getCookie(t){let e=`${t}=`,s=document.cookie.split(";");for(let t=0;t<s.length;t+=1){let i=s[t];for(;" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return null}}class C{constructor(t){this.nav=t,this.navID=this.nav.id,this.openNavButton=document.querySelector(".js-open-nav"),this.closeNavButtons=this.nav.querySelectorAll(".js-close-nav"),this.closeSubNavButtons=this.nav.querySelectorAll(".js-close-sub-nav"),this.isMegaMenuElement=this.nav.classList.contains("js-mega-menu"),this.mainNavIsOpen=!1,this.transitionEvent=h(),this.mobileShowMainTransitionEndEvent=t=>this.mobileShowMainNav(t),this.mobileHideMainTransitionEndEvent=t=>this.mobileHideMainNav(t),this.showSubNavTransitionEndEvent=t=>this.showSubNav(t),this.mobileTrapTabKeyEvent=t=>this.mobileMainNavTrapTabs(t),this.mobileSubNavTrapTabKeyEvent=t=>this.trapkeyEventStuff(t),this.desktopButtonClickEvent=t=>this.buttonClickDesktop(t),this.desktopButtonKeydownEvent=t=>this.buttonKeydownDesktop(t),this.checkFocusEvent=t=>this.checkIfContainsFocus(t),this.openSubNavElements=[],this.breakpoint=window.matchMedia("(min-width: 62em)")}init(){this.initEvents(),this.responsiveCheck(this.breakpoint),this.nav&&this.breakpoint.addEventListener("change",t=>this.responsiveCheck(t))}initEvents(){this.isMegaMenuElement&&(document.addEventListener("click",this.handleOutsideClick.bind(this),!1),document.addEventListener("keydown",this.escapeClose.bind(this),!1)),this.openNavButton&&this.openNavButton.addEventListener("click",this.mobileToggleMainNav.bind(this),!1),this.closeNavButtons.forEach(t=>{t.addEventListener("click",this.mobileToggleMainNav.bind(this),!1)}),this.closeSubNavButtons.forEach(t=>{t.addEventListener("click",this.closeSubNav.bind(this),!1)})}responsiveCheck(t){let e=[];t.matches?(e=[].slice.call(this.nav.querySelectorAll("ul > li")),document.body.classList.remove("main-nav-active")):e=[].slice.call(this.nav.querySelectorAll("li")),this.tearDownNavControls(),this.setUpNavControls(e)}handleOutsideClick(t){!this.nav.closest(".nsw-docs")&&this.mainNavIsOpen&&(this.nav.contains(t.target)||this.toggleSubNavDesktop(!0))}tearDownNavControls(){this.isMegaMenuElement&&[].slice.call(this.nav.querySelectorAll("li")).forEach(t=>{let e=t.querySelector("[id^=sub-nav-]"),s=t.querySelector("a");e&&(s.removeAttribute("role"),s.removeAttribute("aria-expanded"),s.removeAttribute("aria-controls"),s.removeEventListener("click",this.desktopButtonClickEvent,!1),s.removeEventListener("keydown",this.desktopButtonKeydownEvent,!1))})}setUpNavControls(t){this.isMegaMenuElement&&t.forEach(t=>{let e=t.querySelector("[id^=sub-nav-]"),s=t.querySelector("a");e&&(s.setAttribute("role","button"),s.setAttribute("aria-expanded","false"),s.setAttribute("aria-controls",e.id),s.addEventListener("click",this.desktopButtonClickEvent,!1),s.addEventListener("keydown",this.desktopButtonKeydownEvent,!1))})}mobileMainNavTrapTabs(t){r(t,o(this.navID,["> div button","> ul > li > a"]))}mobileShowMainNav(t){let{propertyName:e}=t;"transform"===e&&(o(this.navID,["> div button","> ul > li > a"]).all[1].focus(),this.nav.classList.add("active"),this.nav.classList.remove("activating"),this.nav.removeEventListener(this.transitionEvent,this.mobileShowMainTransitionEndEvent,!1),this.nav.addEventListener("keydown",this.mobileTrapTabKeyEvent,!1))}mobileHideMainNav(t){let{propertyName:e}=t;if("transform"===e){for(this.nav.classList.remove("active"),this.nav.classList.remove("closing");this.openSubNavElements.length>0;){let{submenu:t}=this.whichSubNavLatest();t.removeEventListener("keydown",this.mobileSubNavTrapTabKeyEvent,!1),t.classList.remove("active"),t.classList.remove("closing"),this.openSubNavElements.pop()}this.nav.removeEventListener(this.transitionEvent,this.mobileHideMainTransitionEndEvent,!1),this.nav.removeEventListener("keydown",this.mobileTrapTabKeyEvent,!1)}}mobileToggleMainNav(t){let{currentTarget:e}=t;"true"===e.getAttribute("aria-expanded")?(document.body.classList.remove("main-nav-active"),this.openNavButton.focus(),this.nav.classList.add("closing"),this.nav.addEventListener(this.transitionEvent,this.mobileHideMainTransitionEndEvent,!1)):(document.body.classList.add("main-nav-active"),this.nav.classList.add("activating"),this.nav.addEventListener(this.transitionEvent,this.mobileShowMainTransitionEndEvent,!1))}buttonClickDesktop(t){this.breakpoint.matches&&t.target.closest(".nsw-main-nav__sub-nav")||(this.saveElements(t),this.toggleSubNavDesktop(),t.preventDefault())}buttonKeydownDesktop(t){(" "===t.key||"Enter"===t.key||"Spacebar"===t.key)&&(this.saveElements(t),this.toggleSubNavDesktop(),t.preventDefault())}escapeClose(t){if("Escape"===t.key){if(this.nav.closest(".nsw-docs"))return;let{link:e}=this.whichSubNavLatest();"true"===e.getAttribute("aria-expanded")&&(this.toggleSubNavDesktop(!0),t.preventDefault(),e.focus())}}saveElements(t){let{currentTarget:e}=t,s={submenu:document.getElementById(e.getAttribute("aria-controls")),link:e,linkParent:e.parentNode};this.openSubNavElements.push(s)}showSubNav(t){let{propertyName:e}=t,{submenu:s}=this.whichSubNavLatest();"transform"===e&&(o(s.id,["> div button","> .nsw-main-nav__title a","> ul > li > a"]).all[2].focus(),s.removeEventListener(this.transitionEvent,this.showSubNavTransitionEndEvent,!1))}closeSubNav(){let{submenu:t,link:e}=this.whichSubNavLatest();this.breakpoint.matches?(e.setAttribute("aria-expanded",!1),e.classList.remove("active"),this.nav.removeEventListener("focus",this.checkFocusEvent,!0),this.nav.removeEventListener("click",this.checkFocusEvent,!0)):(e.focus(),t.removeEventListener("keydown",this.mobileSubNavTrapTabKeyEvent,!1)),t.classList.remove("active"),t.closest("ul").parentElement.classList.remove("no-scroll"),this.openSubNavElements.pop()}openSubNav(){let{submenu:t,link:e}=this.whichSubNavLatest();this.breakpoint.matches?(e.setAttribute("aria-expanded",!0),e.classList.add("active"),this.nav.addEventListener("focus",this.checkFocusEvent,!0),this.nav.addEventListener("click",this.checkFocusEvent,!0)):(t.addEventListener("keydown",this.mobileSubNavTrapTabKeyEvent,!1),t.addEventListener(this.transitionEvent,this.showSubNavTransitionEndEvent,!1)),t.closest("ul").parentElement.scrollTop=0,t.closest("ul").parentElement.classList.add("no-scroll"),t.classList.add("active")}toggleSubNavDesktop(){let{link:t}=this.whichSubNavLatest();"true"===t.getAttribute("aria-expanded")?(this.mainNavIsOpen=!1,this.closeSubNav()):(this.mainNavIsOpen=!0,this.openSubNav())}checkIfContainsFocus(t){let{linkParent:e}=this.whichSubNavLatest(),s=e.contains(t.target),i="button"===t.target.closest("a").getAttribute("role");!s&&i&&this.toggleSubNavDesktop()}whichSubNavLatest(){let t=this.openSubNavElements.length-1;return this.openSubNavElements[t]}trapkeyEventStuff(t){let{submenu:e}=this.whichSubNavLatest();r(t,o(e.id,["> div button","> ul > li > a"]))}}let k=Math.min,L=Math.max,x=Math.round,A=t=>({x:t,y:t}),S={left:"right",right:"left",bottom:"top",top:"bottom"},I={start:"end",end:"start"};function T(t,e){return"function"==typeof t?t(e):t}function $(t){return t.split("-")[0]}function _(t){return t.split("-")[1]}function D(t){return"x"===t?"y":"x"}function N(t){return"y"===t?"height":"width"}function F(t){return["top","bottom"].includes($(t))?"y":"x"}function M(t){return t.replace(/start|end/g,t=>I[t])}function q(t){return t.replace(/left|right|bottom|top/g,t=>S[t])}function j(t){return"number"!=typeof t?{top:0,right:0,bottom:0,left:0,...t}:{top:t,right:t,bottom:t,left:t}}function B(t){let{x:e,y:s,width:i,height:n}=t;return{width:i,height:n,top:s,left:e,right:e+i,bottom:s+n,x:e,y:s}}function O(t,e,s){let i,{reference:n,floating:l}=t,a=F(e),o=D(F(e)),r=N(o),h=$(e),c="y"===a,d=n.x+n.width/2-l.width/2,u=n.y+n.height/2-l.height/2,p=n[r]/2-l[r]/2;switch(h){case"top":i={x:d,y:n.y-l.height};break;case"bottom":i={x:d,y:n.y+n.height};break;case"right":i={x:n.x+n.width,y:u};break;case"left":i={x:n.x-l.width,y:u};break;default:i={x:n.x,y:n.y}}switch(_(e)){case"start":i[o]-=p*(s&&c?-1:1);break;case"end":i[o]+=p*(s&&c?-1:1)}return i}let P=async(t,e,s)=>{let{placement:i="bottom",strategy:n="absolute",middleware:l=[],platform:a}=s,o=l.filter(Boolean),r=await (null==a.isRTL?void 0:a.isRTL(e)),h=await a.getElementRects({reference:t,floating:e,strategy:n}),{x:c,y:d}=O(h,i,r),u=i,p={},m=0;for(let s=0;s<o.length;s++){let{name:l,fn:b}=o[s],{x:g,y:v,data:f,reset:y}=await b({x:c,y:d,initialPlacement:i,placement:u,strategy:n,middlewareData:p,rects:h,platform:a,elements:{reference:t,floating:e}});c=null!=g?g:c,d=null!=v?v:d,p={...p,[l]:{...p[l],...f}},y&&m<=50&&(m++,"object"==typeof y&&(y.placement&&(u=y.placement),y.rects&&(h=!0===y.rects?await a.getElementRects({reference:t,floating:e,strategy:n}):y.rects),{x:c,y:d}=O(h,u,r)),s=-1)}return{x:c,y:d,placement:u,strategy:n,middlewareData:p}};async function W(t,e){var s;void 0===e&&(e={});let{x:i,y:n,platform:l,rects:a,elements:o,strategy:r}=t,{boundary:h="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:u=!1,padding:p=0}=T(e,t),m=j(p),b=o[u?"floating"===d?"reference":"floating":d],g=B(await l.getClippingRect({element:null==(s=await (null==l.isElement?void 0:l.isElement(b)))||s?b:b.contextElement||await (null==l.getDocumentElement?void 0:l.getDocumentElement(o.floating)),boundary:h,rootBoundary:c,strategy:r})),v="floating"===d?{x:i,y:n,width:a.floating.width,height:a.floating.height}:a.reference,f=await (null==l.getOffsetParent?void 0:l.getOffsetParent(o.floating)),y=await (null==l.isElement?void 0:l.isElement(f))&&await (null==l.getScale?void 0:l.getScale(f))||{x:1,y:1},w=B(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:f,strategy:r}):v);return{top:(g.top-w.top+m.top)/y.y,bottom:(w.bottom-g.bottom+m.bottom)/y.y,left:(g.left-w.left+m.left)/y.x,right:(w.right-g.right+m.right)/y.x}}async function R(t,e){let{placement:s,platform:i,elements:n}=t,l=await (null==i.isRTL?void 0:i.isRTL(n.floating)),a=$(s),o=_(s),r="y"===F(s),h=["left","top"].includes(a)?-1:1,c=l&&r?-1:1,d=T(e,t),{mainAxis:u,crossAxis:p,alignmentAxis:m}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return o&&"number"==typeof m&&(p="end"===o?-1*m:m),r?{x:p*c,y:u*h}:{x:u*h,y:p*c}}function H(){return"undefined"!=typeof window}function V(t){return K(t)?(t.nodeName||"").toLowerCase():"#document"}function Y(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function U(t){var e;return null==(e=(K(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function K(t){return!!H()&&(t instanceof Node||t instanceof Y(t).Node)}function z(t){return!!H()&&(t instanceof Element||t instanceof Y(t).Element)}function G(t){return!!H()&&(t instanceof HTMLElement||t instanceof Y(t).HTMLElement)}function X(t){return!!H()&&"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof Y(t).ShadowRoot)}function Z(t){let{overflow:e,overflowX:s,overflowY:i,display:n}=ts(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+s)&&!["inline","contents"].includes(n)}function J(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch(t){return!1}})}function Q(t){let e=tt(),s=z(t)?ts(t):t;return["transform","translate","scale","rotate","perspective"].some(t=>!!s[t]&&"none"!==s[t])||!!s.containerType&&"normal"!==s.containerType||!e&&!!s.backdropFilter&&"none"!==s.backdropFilter||!e&&!!s.filter&&"none"!==s.filter||["transform","translate","scale","rotate","perspective","filter"].some(t=>(s.willChange||"").includes(t))||["paint","layout","strict","content"].some(t=>(s.contain||"").includes(t))}function tt(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function te(t){return["html","body","#document"].includes(V(t))}function ts(t){return Y(t).getComputedStyle(t)}function ti(t){return z(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function tn(t){if("html"===V(t))return t;let e=t.assignedSlot||t.parentNode||X(t)&&t.host||U(t);return X(e)?e.host:e}function tl(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ta(t){let e=ts(t),s=parseFloat(e.width)||0,i=parseFloat(e.height)||0,n=G(t),l=n?t.offsetWidth:s,a=n?t.offsetHeight:i,o=x(s)!==l||x(i)!==a;return o&&(s=l,i=a),{width:s,height:i,$:o}}function to(t){return z(t)?t:t.contextElement}function tr(t){let e=to(t);if(!G(e))return A(1);let s=e.getBoundingClientRect(),{width:i,height:n,$:l}=ta(e),a=(l?x(s.width):s.width)/i,o=(l?x(s.height):s.height)/n;return a&&Number.isFinite(a)||(a=1),o&&Number.isFinite(o)||(o=1),{x:a,y:o}}let th=A(0);function tc(t){let e=Y(t);return tt()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:th}function td(t,e,s,i){var n;void 0===e&&(e=!1),void 0===s&&(s=!1);let l=t.getBoundingClientRect(),a=to(t),o=A(1);e&&(i?z(i)&&(o=tr(i)):o=tr(t));let r=(void 0===(n=s)&&(n=!1),i&&(!n||i===Y(a))&&n)?tc(a):A(0),h=(l.left+r.x)/o.x,c=(l.top+r.y)/o.y,d=l.width/o.x,u=l.height/o.y;if(a){let t=Y(a),e=i&&z(i)?Y(i):i,s=t,n=tl(s);for(;n&&i&&e!==s;){let t=tr(n),e=n.getBoundingClientRect(),i=ts(n),l=e.left+(n.clientLeft+parseFloat(i.paddingLeft))*t.x,a=e.top+(n.clientTop+parseFloat(i.paddingTop))*t.y;h*=t.x,c*=t.y,d*=t.x,u*=t.y,h+=l,c+=a,n=tl(s=Y(n))}}return B({width:d,height:u,x:h,y:c})}function tu(t,e){let s=ti(t).scrollLeft;return e?e.left+s:td(U(t)).left+s}function tp(t,e,s){void 0===s&&(s=!1);let i=t.getBoundingClientRect();return{x:i.left+e.scrollLeft-(s?0:tu(t,i)),y:i.top+e.scrollTop}}function tm(t,e,s){let i;if("viewport"===e)i=function(t,e){let s=Y(t),i=U(t),n=s.visualViewport,l=i.clientWidth,a=i.clientHeight,o=0,r=0;if(n){l=n.width,a=n.height;let t=tt();(!t||t&&"fixed"===e)&&(o=n.offsetLeft,r=n.offsetTop)}return{width:l,height:a,x:o,y:r}}(t,s);else if("document"===e)i=function(t){let e=U(t),s=ti(t),i=t.ownerDocument.body,n=L(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=L(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight),a=-s.scrollLeft+tu(t),o=-s.scrollTop;return"rtl"===ts(i).direction&&(a+=L(e.clientWidth,i.clientWidth)-n),{width:n,height:l,x:a,y:o}}(U(t));else if(z(e))i=function(t,e){let s=td(t,!0,"fixed"===e),i=s.top+t.clientTop,n=s.left+t.clientLeft,l=G(t)?tr(t):A(1),a=t.clientWidth*l.x,o=t.clientHeight*l.y;return{width:a,height:o,x:n*l.x,y:i*l.y}}(e,s);else{let s=tc(t);i={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return B(i)}function tb(t){return"static"===ts(t).position}function tg(t,e){if(!G(t)||"fixed"===ts(t).position)return null;if(e)return e(t);let s=t.offsetParent;return U(t)===s&&(s=s.ownerDocument.body),s}function tv(t,e){let s=Y(t);if(J(t))return s;if(!G(t)){let e=tn(t);for(;e&&!te(e);){if(z(e)&&!tb(e))return e;e=tn(e)}return s}let i=tg(t,e);for(;i&&["table","td","th"].includes(V(i))&&tb(i);)i=tg(i,e);return i&&te(i)&&tb(i)&&!Q(i)?s:i||function(t){let e=tn(t);for(;G(e)&&!te(e);){if(Q(e))return e;if(J(e))break;e=tn(e)}return null}(t)||s}let tf=async function(t){let e=this.getOffsetParent||tv,s=this.getDimensions,i=await s(t.floating);return{reference:function(t,e,s){let i=G(e),n=U(e),l="fixed"===s,a=td(t,!0,l,e),o={scrollLeft:0,scrollTop:0},r=A(0);if(i||!i&&!l)if(("body"!==V(e)||Z(n))&&(o=ti(e)),i){let t=td(e,!0,l,e);r.x=t.x+e.clientLeft,r.y=t.y+e.clientTop}else n&&(r.x=tu(n));let h=!n||i||l?A(0):tp(n,o);return{x:a.left+o.scrollLeft-r.x-h.x,y:a.top+o.scrollTop-r.y-h.y,width:a.width,height:a.height}}(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}},ty={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:s,offsetParent:i,strategy:n}=t,l="fixed"===n,a=U(i),o=!!e&&J(e.floating);if(i===a||o&&l)return s;let r={scrollLeft:0,scrollTop:0},h=A(1),c=A(0),d=G(i);if((d||!d&&!l)&&(("body"!==V(i)||Z(a))&&(r=ti(i)),G(i))){let t=td(i);h=tr(i),c.x=t.x+i.clientLeft,c.y=t.y+i.clientTop}let u=!a||d||l?A(0):tp(a,r,!0);return{width:s.width*h.x,height:s.height*h.y,x:s.x*h.x-r.scrollLeft*h.x+c.x+u.x,y:s.y*h.y-r.scrollTop*h.y+c.y+u.y}},getDocumentElement:U,getClippingRect:function(t){let{element:e,boundary:s,rootBoundary:i,strategy:n}=t,l=[..."clippingAncestors"===s?J(e)?[]:function(t,e){let s=e.get(t);if(s)return s;let i=(function t(e,s,i){var n;void 0===s&&(s=[]),void 0===i&&(i=!0);let l=function t(e){let s=tn(e);return te(s)?e.ownerDocument?e.ownerDocument.body:e.body:G(s)&&Z(s)?s:t(s)}(e),a=l===(null==(n=e.ownerDocument)?void 0:n.body),o=Y(l);if(a){let e=tl(o);return s.concat(o,o.visualViewport||[],Z(l)?l:[],e&&i?t(e):[])}return s.concat(l,t(l,[],i))})(t,[],!1).filter(t=>z(t)&&"body"!==V(t)),n=null,l="fixed"===ts(t).position,a=l?tn(t):t;for(;z(a)&&!te(a);){let e=ts(a),s=Q(a);s||"fixed"!==e.position||(n=null),(l?!s&&!n:!s&&"static"===e.position&&!!n&&["absolute","fixed"].includes(n.position)||Z(a)&&!s&&function t(e,s){let i=tn(e);return!(i===s||!z(i)||te(i))&&("fixed"===ts(i).position||t(i,s))}(t,a))?i=i.filter(t=>t!==a):n=e,a=tn(a)}return e.set(t,i),i}(e,this._c):[].concat(s),i],a=l[0],o=l.reduce((t,s)=>{let i=tm(e,s,n);return t.top=L(i.top,t.top),t.right=k(i.right,t.right),t.bottom=k(i.bottom,t.bottom),t.left=L(i.left,t.left),t},tm(e,a,n));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:tv,getElementRects:tf,getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){let{width:e,height:s}=ta(t);return{width:e,height:s}},getScale:tr,isElement:z,isRTL:function(t){return"rtl"===ts(t).direction}},tw=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var s,i;let{x:n,y:l,placement:a,middlewareData:o}=e,r=await R(e,t);return a===(null==(s=o.offset)?void 0:s.placement)&&null!=(i=o.arrow)&&i.alignmentOffset?{}:{x:n+r.x,y:l+r.y,data:{...r,placement:a}}}}},tE=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){let{x:s,y:i,placement:n}=e,{mainAxis:l=!0,crossAxis:a=!1,limiter:o={fn:t=>{let{x:e,y:s}=t;return{x:e,y:s}}},...r}=T(t,e),h={x:s,y:i},c=await W(e,r),d=F($(n)),u=D(d),p=h[u],m=h[d];if(l){let t="y"===u?"top":"left",e="y"===u?"bottom":"right",s=p+c[t],i=p-c[e];p=L(s,k(p,i))}if(a){let t="y"===d?"top":"left",e="y"===d?"bottom":"right",s=m+c[t],i=m-c[e];m=L(s,k(m,i))}let b=o.fn({...e,[u]:p,[d]:m});return{...b,data:{x:b.x-s,y:b.y-i}}}}},tC=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var s,i,n,l,a;let{placement:o,middlewareData:r,rects:h,initialPlacement:c,platform:d,elements:u}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:b,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:f=!0,...y}=T(t,e);if(null!=(s=r.arrow)&&s.alignmentOffset)return{};let w=$(o),E=F(c),C=$(c)===c,k=await (null==d.isRTL?void 0:d.isRTL(u.floating)),L=b||(C||!f?[q(c)]:function(t){let e=q(t);return[M(t),e,M(e)]}(c)),x="none"!==v;!b&&x&&L.push(...function(t,e,s,i){let n=_(t),l=function(t,e,s){let i=["left","right"],n=["right","left"];switch(t){case"top":case"bottom":if(s)return e?n:i;return e?i:n;case"left":case"right":return e?["top","bottom"]:["bottom","top"];default:return[]}}($(t),"start"===s,i);return n&&(l=l.map(t=>t+"-"+n),e&&(l=l.concat(l.map(M)))),l}(c,f,v,k));let A=[c,...L],S=await W(e,y),I=[],j=(null==(i=r.flip)?void 0:i.overflows)||[];if(p&&I.push(S[w]),m){let t=function(t,e,s){void 0===s&&(s=!1);let i=_(t),n=D(F(t)),l=N(n),a="x"===n?i===(s?"end":"start")?"right":"left":"start"===i?"bottom":"top";return e.reference[l]>e.floating[l]&&(a=q(a)),[a,q(a)]}(o,h,k);I.push(S[t[0]],S[t[1]])}if(j=[...j,{placement:o,overflows:I}],!I.every(t=>t<=0)){let t=((null==(n=r.flip)?void 0:n.index)||0)+1,e=A[t];if(e)return{data:{index:t,overflows:j},reset:{placement:e}};let s=null==(l=j.filter(t=>t.overflows[0]<=0).sort((t,e)=>t.overflows[1]-e.overflows[1])[0])?void 0:l.placement;if(!s)switch(g){case"bestFit":{let t=null==(a=j.filter(t=>{if(x){let e=F(t.placement);return e===E||"y"===e}return!0}).map(t=>[t.placement,t.overflows.filter(t=>t>0).reduce((t,e)=>t+e,0)]).sort((t,e)=>t[1]-e[1])[0])?void 0:a[0];t&&(s=t);break}case"initialPlacement":s=c}if(o!==s)return{reset:{placement:s}}}return{}}}},tk=t=>({name:"arrow",options:t,async fn(e){let{x:s,y:i,placement:n,rects:l,platform:a,elements:o,middlewareData:r}=e,{element:h,padding:c=0}=T(t,e)||{};if(null==h)return{};let d=j(c),u={x:s,y:i},p=D(F(n)),m=N(p),b=await a.getDimensions(h),g="y"===p,v=g?"clientHeight":"clientWidth",f=l.reference[m]+l.reference[p]-u[p]-l.floating[m],y=u[p]-l.reference[p],w=await (null==a.getOffsetParent?void 0:a.getOffsetParent(h)),E=w?w[v]:0;E&&await (null==a.isElement?void 0:a.isElement(w))||(E=o.floating[v]||l.floating[m]);let C=E/2-b[m]/2-1,x=k(d[g?"top":"left"],C),A=k(d[g?"bottom":"right"],C),S=E-b[m]-A,I=E/2-b[m]/2+(f/2-y/2),$=L(x,k(I,S)),M=!r.arrow&&null!=_(n)&&I!==$&&l.reference[m]/2-(I<x?x:A)-b[m]/2<0,q=M?I<x?I-x:I-S:0;return{[p]:u[p]+q,data:{[p]:$,centerOffset:I-$-q,...M&&{alignmentOffset:q}},reset:M}}}),tL=(t,e,s)=>{let i=new Map,n={platform:ty,...s},l={...n.platform,_c:i};return P(t,e,{...n,platform:l})};class tx{constructor(t){this.element=t,this.popoverId=this.element.getAttribute("aria-controls"),this.popoverPosition=this.element.dataset.popoverPosition||"bottom",this.popoverGap=this.element.dataset.popoverGap||5,this.popoverAnchor=this.element.querySelector("[data-anchor]")||this.element,this.popoverElement=this.popoverId&&document.querySelector(`#${this.popoverId}`),this.popoverVisibleClass="active",this.popoverContent=!1,this.popoverIsOpen=!1,this.firstFocusable=null,this.lastFocusable=null}init(){this.popoverElement&&(this.constructor.setAttributes(this.element,{tabindex:"0","aria-haspopup":"dialog"}),this.initEvents())}initEvents(){this.element.addEventListener("click",this.togglePopover.bind(this)),this.element.addEventListener("keyup",t=>{(t.code&&"enter"===t.code.toLowerCase()||t.key&&"enter"===t.key.toLowerCase())&&this.togglePopover()}),window.addEventListener("DOMContentLoaded",()=>{this.popoverContent=this.popoverElement.innerHTML}),this.popoverElement.addEventListener("keydown",this.trapFocus.bind(this)),window.addEventListener("click",t=>{this.checkPopoverClick(t.target)}),window.addEventListener("keyup",t=>{(t.code&&"escape"===t.code.toLowerCase()||t.key&&"escape"===t.key.toLowerCase())&&this.checkPopoverFocus()}),this.debouncedTogglePopover=this.constructor.debounce(()=>{this.popoverIsOpen&&this.togglePopover()},300),window.addEventListener("resize",this.debouncedTogglePopover),window.addEventListener("scroll",this.debouncedTogglePopover)}static debounce(t,e){let s;return function(){for(var i=arguments.length,n=Array(i),l=0;l<i;l++)n[l]=arguments[l];clearTimeout(s),s=setTimeout(()=>{clearTimeout(s),t(...n)},e)}}togglePopover(){this.popoverElement.classList.contains("active")?this.hidePopover():(this.popoverElement.focus(),this.showPopover())}showPopover(){this.constructor.setAttributes(this.popoverElement,{tabindex:"0",role:"dialog"}),this.popoverElement.setAttribute("aria-expanded","true"),this.popoverElement.classList.add("active"),this.popoverIsOpen=!0,this.getFocusableElements(),this.popoverElement.focus({preventScroll:!0}),this.element.addEventListener("transitionend",()=>{this.focusPopover()},{once:!0}),this.updatePopover(this.popoverElement,this.popoverPosition)}hidePopover(){this.popoverElement.setAttribute("aria-expanded","false"),this.popoverElement.classList.remove("active"),this.popoverIsOpen=!1}async updatePopover(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.popoverAnchor;try{var i;let{x:n,y:l}=await tL(s,t,{placement:e,middleware:[tw(parseInt(this.popoverGap,10)),tC({fallbackAxisSideDirection:"start",crossAxis:!1}),tE({limiter:(void 0===i&&(i={}),{options:i,fn(t){let{x:e,y:s,placement:n,rects:l,middlewareData:a}=t,{offset:o=0,mainAxis:r=!0,crossAxis:h=!0}=T(i,t),c={x:e,y:s},d=F(n),u=D(d),p=c[u],m=c[d],b=T(o,t),g="number"==typeof b?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(r){let t="y"===u?"height":"width",e=l.reference[u]-l.floating[t]+g.mainAxis,s=l.reference[u]+l.reference[t]-g.mainAxis;p<e?p=e:p>s&&(p=s)}if(h){var v,f;let t="y"===u?"width":"height",e=["top","left"].includes($(n)),s=l.reference[d]-l.floating[t]+(e&&(null==(v=a.offset)?void 0:v[d])||0)+(e?0:g.crossAxis),i=l.reference[d]+l.reference[t]+(e?0:(null==(f=a.offset)?void 0:f[d])||0)-(e?g.crossAxis:0);m<s?m=s:m>i&&(m=i)}return{[u]:p,[d]:m}}})})]});Object.assign(t.style,{left:`${n}px`,top:`${l}px`})}catch(t){console.error("Error updating popover position:",t)}}checkPopoverClick(t){this.popoverIsOpen&&(this.popoverElement.contains(t)||t.closest(`[aria-controls="${this.popoverId}"]`)||this.togglePopover())}checkPopoverFocus(){this.popoverIsOpen&&(this.constructor.moveFocus(this.element),this.togglePopover())}focusPopover(){this.firstFocusable?this.firstFocusable.focus({preventScroll:!0}):this.constructor.moveFocus(this.popoverElement)}getFocusableElements(){let t=this.popoverElement.querySelectorAll('[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable], audio[controls], video[controls], summary');this.getFirstVisible(t),this.getLastVisible(t)}getFirstVisible(t){for(let e=0;e<t.length;e+=1)if(this.constructor.isVisible(t[e])){this.firstFocusable=t[e];break}}getLastVisible(t){for(let e=t.length-1;e>=0;e-=1)if(this.constructor.isVisible(t[e])){this.lastFocusable=t[e];break}}trapFocus(t){this.firstFocusable===document.activeElement&&t.shiftKey&&(t.preventDefault(),this.lastFocusable.focus()),this.lastFocusable!==document.activeElement||t.shiftKey||(t.preventDefault(),this.firstFocusable.focus())}static isVisible(t){return t.offsetWidth||t.offsetHeight||t.getClientRects().length}static moveFocus(t){t.focus({preventScroll:!0}),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus())}static setAttributes(t,e){Object.keys(e).forEach(s=>t.setAttribute(s,e[s]))}}class tA{constructor(t){this.element=t,this.select=this.element.querySelector("select"),this.optGroups=this.select&&this.select.getElementsByTagName("optgroup"),this.options=this.select&&this.select.getElementsByTagName("option"),this.selectId=this.select&&this.select.getAttribute("id"),this.trigger=!1,this.dropdown=!1,this.customOptions=!1,this.list=!1,this.allButton=!1,this.arrowIcon=this.element.getElementsByTagName("svg"),this.label=document.querySelector(`[for="${this.selectId}"]`),this.selectedOptCounter=0,this.optionIndex=0,this.noSelectText=this.element.getAttribute("data-select-text")||"Select",this.multiSelectText=this.element.getAttribute("data-multi-select-text")||"{n} items selected",this.nMultiSelect=this.element.getAttribute("data-n-multi-select")||1,this.noUpdateLabel=this.element.getAttribute("data-update-text")&&"off"===this.element.getAttribute("data-update-text"),this.insetLabel=this.element.getAttribute("data-inset-label")&&"on"===this.element.getAttribute("data-inset-label"),this.hideClass="nsw-display-none",this.showClass="active",this.errorClass="has-error",this.srClass="sr-only",this.prefix="nsw-",this.class="multi-select",this.buttonClass=`${this.class}__button`,this.allButtonClass=`${this.class}__all`,this.listClass=`${this.class}__list`,this.optionClass=`${this.class}__option`,this.dropdownClass=`${this.class}__dropdown`,this.checkboxClass=`${this.class}__checkbox`,this.itemClass=`${this.class}__item`,this.labelClass=`${this.class}__label`,this.termClass=`${this.class}__term`,this.detailsClass=`${this.class}__details`,this.selectClass="form__select",this.checkboxLabelClass="form__checkbox-label",this.checkboxInputClass="form__checkbox-input"}init(){this.select&&(this.element.insertAdjacentHTML("beforeend",this.initButtonSelect()+this.initListSelect()),this.dropdown=this.element.querySelector(`.js-${this.dropdownClass}`),this.trigger=this.element.querySelector(`.js-${this.buttonClass}`),this.customOptions=this.dropdown.querySelectorAll(`.js-${this.optionClass}`),this.list=this.dropdown.querySelector(`.js-${this.listClass}`),this.list.insertAdjacentHTML("afterbegin",this.initAllButton()),this.allButton=this.list.querySelector(`.js-${this.allButtonClass}`),this.select.classList.add(this.hideClass),this.arrowIcon.length>0&&(this.arrowIcon[0].style.display="none"),this.initCustomSelectEvents(),this.updateAllButton())}initCustomSelectEvents(){this.initSelection(),this.trigger.addEventListener("click",t=>{t.preventDefault(),this.toggleCustomSelect(!1)}),this.label&&this.label.addEventListener("click",()=>{this.constructor.moveFocusFn(this.trigger)}),this.dropdown.addEventListener("keydown",t=>{t.key&&"arrowup"===t.key.toLowerCase()?this.keyboardCustomSelect("prev",t):t.key&&"arrowdown"===t.key.toLowerCase()&&this.keyboardCustomSelect("next",t)}),window.addEventListener("keyup",t=>{t.key&&"escape"===t.key.toLowerCase()&&(this.moveFocusToSelectTrigger(),this.toggleCustomSelect("false"))}),window.addEventListener("click",t=>{this.checkCustomSelectClick(t.target)})}toggleCustomSelect(t){let e;if(e=t||("true"===this.trigger.getAttribute("aria-expanded")?"false":"true"),this.trigger.setAttribute("aria-expanded",e),this.dropdown.querySelectorAll(`.js-${this.optionClass}`).forEach(t=>{let s="true"===e;t.setAttribute("aria-hidden",!s)}),"true"===e){let t=this.getSelectedOption()||this.allButton;this.constructor.moveFocusFn(t);let e=()=>{this.constructor.moveFocusFn(t),this.dropdown.removeEventListener("transitionend",e)};this.dropdown.addEventListener("transitionend",e),this.constructor.trapFocus(this.dropdown),this.placeDropdown()}}placeDropdown(){let{top:t,bottom:e,left:s}=this.trigger.getBoundingClientRect();this.dropdown.classList.toggle(`${this.prefix}${this.dropdownClass}--right`,window.innerWidth<s+this.dropdown.offsetWidth);let i=window.innerHeight-e<t;this.dropdown.classList.toggle(`${this.prefix}${this.dropdownClass}--up`,i);let n=Math.ceil(100*(i?t-20:window.innerHeight-e-20)/window.innerHeight);this.dropdown.setAttribute("style",`max-height: ${n}vh;`)}keyboardCustomSelect(t,e){e.preventDefault();let s=[...this.customOptions,this.allButton],i=s.findIndex(t=>t===document.activeElement.closest(`.js-${this.optionClass}`));(i="next"===t?i+1:i-1)<0&&(i=s.length-1),i>=s.length&&(i=0);let n=s[i].querySelector(`.js-${this.checkboxClass}`)||this.allButton;this.constructor.moveFocusFn(n)}toggleAllButton(){let t=!this.allButton.classList.contains(this.showClass);this.allButton.classList.toggle(this.showClass,t);let[e,s,i]=this.getOptions();e.forEach(t=>{t.setAttribute("aria-selected","false"),this.selectOption(t)}),i===s&&e.forEach(t=>this.selectOption(t))}initSelection(){this.allButton.addEventListener("click",t=>{t.preventDefault(),this.toggleAllButton()}),this.dropdown.addEventListener("change",t=>{let e=t.target.closest(`.js-${this.optionClass}`);e&&this.selectOption(e)}),this.dropdown.addEventListener("click",t=>{let e=t.target.closest(`.js-${this.optionClass}`);e&&t.target.classList.contains(`js-${this.optionClass}`)&&this.selectOption(e)})}selectOption(t){let e=t.querySelector(`.js-${this.checkboxClass}`);t.hasAttribute("aria-selected")&&"true"===t.getAttribute("aria-selected")?(e.checked=!1,e.removeAttribute("checked"),t.setAttribute("aria-selected","false"),this.updateNativeSelect(t.getAttribute("data-index"),!1)):(e.checked=!0,e.value=!0,e.setAttribute("checked",""),t.setAttribute("aria-selected","true"),this.updateNativeSelect(t.getAttribute("data-index"),!0));let s=this.getSelectedOptionText(),[i]=s;this.trigger.querySelector(`.js-${this.labelClass}`).innerHTML=i,this.trigger.classList.toggle(`${this.prefix}${this.buttonClass}--active`,this.selectedOptCounter>0),this.updateTriggerAria(s[1]),this.updateAllButton()}updateAllButton(){let[,t,e]=this.getOptions();e===t?this.allButton.classList.add(this.showClass):this.allButton.classList.remove(this.showClass)}updateNativeSelect(t,e){this.options[t].selected=e,this.select.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}updateTriggerAria(t){this.trigger.setAttribute("aria-label",t)}getSelectedOptionText(){let t=`<span class="${this.prefix}${this.termClass}">${this.noSelectText}</span>`;if(this.noUpdateLabel)return[t,this.noSelectText];let e="",s="";this.selectedOptCounter=0;for(let t=0;t<this.options.length;t+=1)this.options[t].selected&&(0!==this.selectedOptCounter&&(e+=", "),e=`${e}${this.options[t].text}`,this.selectedOptCounter+=1);return this.selectedOptCounter>this.nMultiSelect?(e=`<span class="${this.prefix}${this.detailsClass}">${this.multiSelectText.replace("{n}",this.selectedOptCounter)}</span>`,s=`${this.multiSelectText.replace("{n}",this.selectedOptCounter)}, ${this.noSelectText}`):this.selectedOptCounter>0?(s=`${e}, ${this.noSelectText}`,e=`<span class="${this.prefix}${this.detailsClass}">${e}</span>`):(e=t,s=this.noSelectText),this.insetLabel&&this.selectedOptCounter>0&&(e=t+e),[e,s]}initButtonSelect(){let t=this.element.getAttribute("data-trigger-class")?` ${this.element.getAttribute("data-trigger-class")}`:"",e=this.select.getAttribute("aria-invalid"),s=this.getSelectedOptionText(),i=this.selectedOptCounter>0?` ${this.buttonClass}--active`:"",n=`<button class="js-${this.buttonClass} ${"true"===e?this.errorClass:""} ${this.prefix}${this.selectClass} ${this.prefix}${this.buttonClass}${t}${i}" aria-label="${s[1]}" aria-expanded="false" aria-controls="${this.selectId}-dropdown"><span aria-hidden="true" class="js-${this.labelClass} ${this.prefix}${this.labelClass}">${s[0]}</span><span class="material-icons nsw-material-icons" focusable="false" aria-hidden="true">keyboard_arrow_down</span>`;return this.arrowIcon.length>0&&this.arrowIcon[0].outerHTML&&(n+=this.arrowIcon[0].outerHTML),`${n}</button>`}initListSelect(){let t=`<div class="js-${this.dropdownClass} ${this.prefix}${this.dropdownClass}" aria-describedby="${this.selectId}-description" id="${this.selectId}-dropdown">`;if(t+=this.getSelectLabelSR(),this.optGroups.length>0)for(let e=0;e<this.optGroups.length;e+=1){let s=this.optGroups[e].getElementsByTagName("option"),i=`<li><span class="${this.prefix}${this.itemClass} ${this.prefix}${this.itemClass}--optgroup">${this.optGroups[e].getAttribute("label")}</span></li>`;t=`${t}<ul class="${this.prefix}${this.listClass}" role="listbox" aria-multiselectable="true">${i}${this.getOptionsList(s)}</ul>`}else t=`${t}<ul class="${this.prefix}${this.listClass} js-${this.listClass}" role="listbox" aria-multiselectable="true">${this.getOptionsList(this.options)}</ul>`;return t}initAllButton(){return`<button class="${this.prefix}${this.allButtonClass} js-${this.allButtonClass}"><span>All</span></button>`}getSelectLabelSR(){return this.label?`<p class="${this.srClass}" id="${this.selectId}-description">${this.label.textContent}</p>`:""}getOptionsList(t){let e="";for(let s=0;s<t.length;s+=1){let i=t[s].hasAttribute("selected")?' aria-selected="true"':' aria-selected="false"',n=t[s].hasAttribute("disabled")?"disabled":"",l=t[s].hasAttribute("selected")?"checked":"",a=this.constructor.createSafeCss(`${this.selectId}-${t[s].value}-${this.optionIndex.toString()}`),o=t[s].hasAttribute("hidden")?'aria-hidden="true"':"";e=`${e}<li class="js-${this.optionClass}" role="option" data-value="${t[s].value}" ${i} ${o} data-label="${t[s].text}" data-index="${this.optionIndex}"><input class="${this.prefix}${this.checkboxInputClass} js-${this.checkboxClass}" type="checkbox" id="${a}" ${l} ${n}><label class="${this.prefix}${this.checkboxLabelClass} ${this.prefix}${this.itemClass} ${this.prefix}${this.itemClass}--option" for="${a}"><span>${t[s].text}</span></label></li>`,this.optionIndex+=1}return e}getSelectedOption(){let t=this.dropdown.querySelector('[aria-selected="true"]');return t?t.querySelector(`.js-${this.checkboxClass}`):this.allButton}getOptions(){let t=Array.from(this.dropdown.querySelectorAll(`.js-${this.optionClass}`)),e=t.length,s=t.filter(t=>"true"===t.getAttribute("aria-selected")).length;return[t,e,s]}moveFocusToSelectTrigger(){document.activeElement.closest(`.js-${this.class}`)&&this.trigger.focus()}static trapFocus(t){let e='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])',s=t.querySelectorAll(e)[0],i=t.querySelectorAll(e),n=i[i.length-1];document.addEventListener("keydown",t=>{("Tab"===t.key||9===t.code)&&(t.shiftKey?document.activeElement===s&&(n.focus(),t.preventDefault()):document.activeElement===n&&(s.focus(),t.preventDefault()))}),s.focus()}checkCustomSelectClick(t){this.element.contains(t)||this.toggleCustomSelect("false")}static createSafeCss(t){if("string"!=typeof t)return"";let e=t.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(t=>t.toLowerCase()).join("-");return/^([0-9]|--|-[0-9])/.test(e)?`_${e}`:e}static moveFocusFn(t){t.focus(),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus())}}class tS{constructor(t){this.element=t,this.originalButton=document.querySelector(".js-open-search"),this.targetElement=document.getElementById(this.element.getAttribute("aria-controls")),this.searchInput=this.targetElement.querySelector("input.js-search-input"),this.pressed="true"===this.element.getAttribute("aria-expanded")}init(){this.originalButton&&this.controls()}controls(){this.element.addEventListener("click",this.showHide.bind(this),!1)}showHide(){this.pressed?(this.targetElement.hidden=!0,this.originalButton.hidden=!1,this.originalButton.focus()):(this.targetElement.hidden=!1,this.originalButton.hidden=!0,this.searchInput.focus())}}class tI{constructor(t,e){this.element=t,this.tablistClass=".nsw-tabs__list",this.tablistItemClass="li",this.tablistLinkClass="a",this.showTab=e,this.tabList=this.element.querySelector(this.tablistClass),this.tabItems=this.tabList&&this.tabList.querySelectorAll(this.tablistItemClass),this.allowedKeys=[35,36,37,39,40],this.tabLinks=[],this.tabPanel=[],this.selectedTab=null,this.clickTabEvent=t=>this.clickTab(t),this.arrowKeysEvent=t=>this.arrowKeys(t),this.owns=[]}init(){this.tabList&&(this.setUpDom(),this.controls(),this.setInitalTab())}setUpDom(){let t=document.createElement("div");t.classList.add("nsw-tabs__list-wrapper"),this.element.prepend(t),t.prepend(this.tabList),this.tabList.setAttribute("role","tablist"),this.tabItems.forEach(t=>{let e=t.querySelector(this.tablistLinkClass),s=this.element.querySelector(e.hash),i=l("tab");this.owns.push(i),t.setAttribute("role","presentation"),this.enhanceTabLink(e,i),this.enhanceTabPanel(s,i)}),this.tabList.setAttribute("aria-owns",this.owns.join(" "))}enhanceTabLink(t,e){t.setAttribute("role","tab"),t.setAttribute("id",e),t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this.tabLinks.push(t)}enhanceTabPanel(t,e){t.setAttribute("role","tabpanel"),t.setAttribute("role","tabpanel"),t.setAttribute("aria-labelledBy",e),t.setAttribute("tabindex","0"),t.hidden=!0,this.tabPanel.push(t)}setInitalTab(){let{tabLinks:t,tabPanel:e,showTab:s}=this,i=void 0===s?0:s,n=t[i];n.classList.add("active"),n.removeAttribute("tabindex"),n.setAttribute("aria-selected",!0),e[i].hidden=!1,this.selectedTab=n}clickTab(t){t.preventDefault(),this.switchTabs(t.currentTarget)}switchTabs(t){if(t!==this.selectedTab){t.focus(),t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),t.classList.add("active"),this.selectedTab.setAttribute("aria-selected",!1),this.selectedTab.setAttribute("tabindex","-1"),this.selectedTab.classList.remove("active");let e=this.tabLinks.indexOf(t),s=this.tabLinks.indexOf(this.selectedTab);this.tabPanel[e].hidden=!1,this.tabPanel[s].hidden=!0,this.selectedTab=t,t.classList.contains("js-tabs-fixed")||t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}arrowKeys(t){let{which:e}=t,s=this.tabLinks.length-1,i=this.tabLinks.indexOf(this.selectedTab),n=!1;if(this.allowedKeys.includes(e)){switch(e){case 35:i=s;break;case 36:i=0;break;case 37:i=0===i?-1:i-=1;break;case 39:i=i===s?-1:i+=1;break;case 40:n=!0}i>-1&&(n?this.tabPanel[i].focus():this.switchTabs(this.tabLinks[i]))}}controls(){this.tabLinks.forEach(t=>{t.addEventListener("click",this.clickTabEvent,!1),t.addEventListener("keydown",this.arrowKeysEvent,!1)})}}function tT(t,e){let s=new DOMParser().parseFromString(t,"text/html").body||document.createElement("body");for(let t of s.querySelectorAll("script"))t.remove();return!function t(e){for(let s of e.children){for(let{name:t,value:e}of s.attributes)(function(t,e){let s=e.replace(/\s+/g,"").toLowerCase();return!!(["src","href","xlink:href"].includes(t)&&(s.includes("javascript:")||s.includes("data:text/html"))||t.startsWith("on"))})(t,e)&&s.removeAttribute(t);t(s)}}(s),e?s.childNodes:s.innerHTML}class t${constructor(t){this.toggletip=t,this.toggletipId=this.toggletip.getAttribute("aria-controls"),this.toggletipElement=this.toggletipId&&document.querySelector(`#${this.toggletipId}`),this.toggletipContent=!1,this.toggletipAnchor=this.toggletip.querySelector("[data-anchor]")||this.toggletip,this.toggletipText=this.toggletip.innerText,this.toggletipHeading=this.toggletip.getAttribute("data-title")||this.toggletipText,this.arrowElement=!1,this.closeButton=!1,this.toggletipIsOpen=!1,this.toggletipVisibleClass="active",this.firstFocusable=!1,this.lastFocusable=!1}init(){this.toggletipElement&&(this.constructor.setAttributes(this.toggletip,{tabindex:"0","aria-haspopup":"dialog"}),this.initEvents())}initEvents(){this.toggletip.addEventListener("click",this.toggleToggletip.bind(this)),this.toggletip.addEventListener("keyup",t=>{(t.code&&"enter"===t.code.toLowerCase()||t.key&&"enter"===t.key.toLowerCase())&&this.toggleToggletip()}),window.addEventListener("DOMContentLoaded",()=>{this.toggletipContent=this.toggletipElement.innerHTML}),this.toggletipElement.addEventListener("keydown",this.trapFocus.bind(this)),window.addEventListener("click",t=>{this.checkToggletipClick(t.target)}),window.addEventListener("keyup",t=>{(t.code&&"escape"===t.code.toLowerCase()||t.key&&"escape"===t.key.toLowerCase())&&this.checkToggletipFocus()}),window.addEventListener("resize",()=>{this.toggletipIsOpen&&this.toggleToggletip()}),window.addEventListener("scroll",()=>{this.toggletipIsOpen&&this.toggleToggletip()})}toggleToggletip(){this.toggletipElement.classList.contains("active")?this.hideToggletip():(this.toggletipElement.focus(),this.showToggletip())}createToggletipElement(){if(this.toggletipElement){this.toggletipElement.innerHTML="";let t=`
      <div class="nsw-toggletip__header">
        <div id="nsw-toggletip__header" class="sr-only">${tT(this.toggletipHeading)}</div>
        <button type="button" class="nsw-icon-button">
          <span class="sr-only">Remove file</span>
          <span class="material-icons nsw-material-icons" focusable="false" aria-hidden="true">close</span>
        </button>
      </div>
      <div id="nsw-toggletip__content" class="nsw-toggletip__content">
        ${tT(this.toggletipContent)}
      </div>
      <div class="nsw-toggletip__arrow"></div>`;this.toggletipElement.insertAdjacentHTML("afterbegin",t)}this.constructor.setAttributes(this.toggletipElement,{"aria-labelledby":"nsw-toggletip__header","aria-describedby":"nsw-toggletip__content","aria-expanded":"false",tabindex:"0",role:"dialog"})}showToggletip(){this.createToggletipElement(),this.arrowElement=this.toggletipElement.querySelector(".nsw-toggletip__arrow"),this.closeButton=this.toggletipElement.querySelector(".nsw-icon-button"),this.toggletipElement.setAttribute("aria-expanded","true"),this.toggletipElement.classList.add("active"),this.toggletipIsOpen=!0,this.getFocusableElements(),this.toggletipElement.focus({preventScroll:!0}),this.toggletip.addEventListener("transitionend",()=>{this.focusToggletip()},{once:!0}),this.updateToggletip(this.toggletipElement,this.arrowElement),this.closeButton.addEventListener("click",this.toggleToggletip.bind(this))}hideToggletip(){this.toggletipElement.setAttribute("aria-expanded","false"),this.toggletipElement.classList.remove("active"),this.toggletipIsOpen=!1}updateToggletip(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.toggletipAnchor;tL(s,t,{placement:"top",middleware:[tw(8),tC(),tE({padding:5}),tk({element:e})]}).then(s=>{let{x:i,y:n,placement:l,middlewareData:a}=s;Object.assign(t.style,{left:`${i}px`,top:`${n}px`});let{x:o,y:r}=a.arrow,h={top:"bottom",right:"left",bottom:"top",left:"right"}[l.split("-")[0]];Object.assign(e.style,{left:null!=o?`${o}px`:"",top:null!=r?`${r}px`:"",right:"",bottom:"",[h]:"-6px"})})}checkToggletipClick(t){this.toggletipIsOpen&&(this.toggletipElement.contains(t)||t.closest(`[aria-controls="${this.toggletipId}"]`)||this.toggleToggletip())}checkToggletipFocus(){this.toggletipIsOpen&&(this.constructor.moveFocus(this.toggletip),this.toggleToggletip())}focusToggletip(){this.firstFocusable?this.firstFocusable.focus({preventScroll:!0}):this.constructor.moveFocus(this.toggletipElement)}getFocusableElements(){let t=this.toggletipElement.querySelectorAll('[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable], audio[controls], video[controls], summary');this.getFirstVisible(t),this.getLastVisible(t)}getFirstVisible(t){for(let e=0;e<t.length;e+=1)if(this.constructor.isVisible(t[e])){this.firstFocusable=t[e];break}}getLastVisible(t){for(let e=t.length-1;e>=0;e-=1)if(this.constructor.isVisible(t[e])){this.lastFocusable=t[e];break}}trapFocus(t){this.firstFocusable===document.activeElement&&t.shiftKey&&(t.preventDefault(),this.lastFocusable.focus()),this.lastFocusable!==document.activeElement||t.shiftKey||(t.preventDefault(),this.firstFocusable.focus())}static isVisible(t){return t.offsetWidth||t.offsetHeight||t.getClientRects().length}static moveFocus(t){t.focus({preventScroll:!0}),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus())}static setAttributes(t,e){Object.keys(e).forEach(s=>t.setAttribute(s,e[s]))}}class t_{constructor(t){this.tooltip=t,this.uID=l("tooltip"),this.tooltipElement=!1,this.arrowElement=!1,this.tooltipContent=!1,this.tooltipDelay=400,this.screenSize=!1,this.tooltipTheme=this.tooltip.getAttribute("data-theme")||"dark"}init(){this.tooltipContent=this.tooltip.getAttribute("title"),this.tooltipContent&&(this.constructor.setAttributes(this.tooltip,{"data-tooltip-content":this.tooltipContent,"aria-describedby":this.uID,tabindex:"0"}),this.tooltip.removeAttribute("title"),["mouseenter","mouseleave","focus","blur"].forEach((t,e)=>{let{listener:s=this.handleEvent.bind(this)}=e;this.tooltip.addEventListener(t,s)}))}handleEvent(t){switch(t.type){case"mouseenter":case"focus":this.showTooltip(this,t);break;case"mouseleave":case"blur":this.hideTooltip(this,t);break;default:console.log(`Unexpected event type: ${t.type}`)}}createTooltipElement(){this.tooltipElement||(this.tooltipElement=document.createElement("div"),document.body.appendChild(this.tooltipElement)),this.constructor.setAttributes(this.tooltipElement,{id:this.uID,class:`nsw-tooltip__element nsw-tooltip__element--${this.tooltipTheme}`,role:"tooltip"}),this.tooltip&&(this.arrowElement=document.createElement("div"),this.arrowElement.className="nsw-tooltip__arrow"),this.tooltipContent=this.tooltip.getAttribute("data-tooltip-content"),this.tooltipElement.innerHTML=this.tooltipContent,this.tooltipElement.insertAdjacentElement("beforeend",this.arrowElement)}showTooltip(){setTimeout(()=>{this.createTooltipElement(),this.tooltipElement.classList.add("active");let t=document.createRange(),e=this.tooltipElement.childNodes[0];t.setStartBefore(e),t.setEndAfter(e);let s=t.getBoundingClientRect();this.matchMedia(),this.tooltipElement.style.width=`${s.width+this.screenSize}px`,this.updateTooltip(this.tooltipElement,this.arrowElement)},this.tooltipDelay)}hideTooltip(){setTimeout(()=>{this.tooltipElement.classList.remove("active"),this.tooltipElement.style.width=""},this.tooltipDelay)}matchMedia(){window.matchMedia("(min-width: 576px)").matches?this.screenSize=32:this.screenSize=16}updateTooltip(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.tooltip;tL(s,t,{placement:"top",middleware:[tw(8),tC(),tE({padding:5}),tk({element:e})]}).then(s=>{let{x:i,y:n,placement:l,middlewareData:a}=s;Object.assign(t.style,{left:`${i}px`,top:`${n}px`});let{x:o,y:r}=a.arrow,h={top:"bottom",right:"left",bottom:"top",left:"right"}[l.split("-")[0]];Object.assign(e.style,{left:null!=o?`${o}px`:"",top:null!=r?`${r}px`:"",right:"",bottom:"",[h]:"-6px"})})}static setAttributes(t,e){Object.keys(e).forEach(s=>t.setAttribute(s,e[s]))}}class tD extends t${constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.querySelector(".js-share");super(null===e?t:e),this.element=t,this.share=e,this.print=this.element.querySelectorAll(".js-print-page"),this.download=this.element.querySelectorAll(".js-download-page"),this.copy=this.element.querySelectorAll(".js-copy-clipboard"),this.shareItems=this.share&&this.share.querySelectorAll("a"),this.urlLocation=window.location.href,this.copyElement=!1}init(){this.share&&(super.init(),this.shareItems.forEach(t=>{t.getAttribute("data-url")||t.setAttribute("data-url",window.location.href)}),this.share.addEventListener("click",t=>{let e=t.target.closest("a");if(!e)return;t.preventDefault();let s=e.getAttribute("data-social"),i=this.getSocialUrl(e,s);"mail"===s?window.location.href=i:window.open(i,`${s}-share-dialog`,"width=626,height=436")})),this.print&&this.print.forEach(t=>{t.setAttribute("tabindex","0"),t.addEventListener("click",()=>{window.print()}),t.addEventListener("keyup",t=>{(t.code&&"enter"===t.code.toLowerCase()||t.key&&"enter"===t.key.toLowerCase())&&window.print()})}),this.download&&this.download.forEach(t=>{t.setAttribute("tabindex","0")}),this.copy&&this.copy.forEach(t=>{t.setAttribute("tabindex","0"),t.addEventListener("click",()=>{this.copyToClipboard(t)}),t.addEventListener("keyup",e=>{(e.code&&"enter"===e.code.toLowerCase()||e.key&&"enter"===e.key.toLowerCase())&&this.copyToClipboard(t)})})}getSocialUrl(t,e){let s=this.getSocialParams(e),i="";return"twitter"===e&&this.getTwitterText(t),s.forEach(s=>{let n=t.getAttribute(`data-${s}`);"hashtags"===s&&(n=encodeURI(n.replace(/#| /g,""))),n&&(i="facebook"===e?`${i}u=${encodeURIComponent(n)}&`:`${i+s}=${encodeURIComponent(n)}&`)}),"linkedin"===e&&(i=`mini=true&${i}`),`${t.getAttribute("href")}?${i}`}getSocialParams(t){switch(t){case"twitter":this.socialParams=["text","hashtags"];break;case"facebook":case"linkedin":this.socialParams=["url"];break;case"mail":this.socialParams=["subject","body"];break;default:console.log("No social links found")}return this.socialParams}getTwitterText(t){let e=t.getAttribute("data-text"),s=t.getAttribute("data-url")||this.urlLocation,i=t.getAttribute("data-username");e=i?`${e} ${s} via ${i}`:`${e} ${s}`,t.setAttribute("data-text",e),t.removeAttribute("data-url"),t.removeAttribute("data-username")}copyToClipboard(t){if(navigator.clipboard)navigator.clipboard.writeText(this.urlLocation).then(()=>{this.copiedMessage(t)});else{let e=document.createElement("input");e.setAttribute("value",this.urlLocation),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.copiedMessage(t)}}copiedMessage(t){this.copyElement=t;let e=this.copyElement.innerHTML;this.copyElement.classList.add("copied"),this.copyElement.innerHTML='<span class="material-icons nsw-material-icons" focusable="false" aria-hidden="true">link</span> Copied',setTimeout(()=>{this.copyElement.classList.remove("copied"),this.copyElement.innerHTML=e},3e3)}}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(this))return null;do{if(e.matches(t))return e;e=e.parentElement}while(null!==e)return null}),t.Accordion=c,t.BackTop=d,t.Carousel=g,t.DatePicker=p,t.Dialog=v,t.ExternalLink=f,t.FileUpload=y,t.Filters=w,t.GlobalAlert=E,t.Navigation=C,t.Popover=tx,t.Select=tA,t.SiteSearch=tS,t.Tabs=tI,t.Toggletip=t$,t.Tooltip=t_,t.UtilityList=tD,t.initSite=function(){let t=document.querySelectorAll(".js-accordion"),e=document.querySelectorAll("button.js-back-to-top"),s=document.querySelectorAll(".js-breadcrumbs"),i=document.querySelectorAll(".js-carousel"),n=document.querySelectorAll("button.js-close-search"),l=document.querySelectorAll(".js-date-input"),a=document.querySelectorAll(".js-dialog"),o=document.querySelectorAll(".js-file-upload"),r=document.querySelectorAll(".js-filters"),h=document.querySelectorAll(".js-global-alert"),m=document.querySelectorAll("a.js-link"),b=document.querySelectorAll(".js-multi-select"),k=document.getElementById("main-nav"),L=document.querySelectorAll("button.js-open-search"),x=document.querySelectorAll(".js-popover"),A=document.querySelectorAll(".js-tabs"),S=document.querySelectorAll(".js-toggletip"),I=document.querySelectorAll(".js-tooltip"),T=document.querySelectorAll(".js-utility-list");t&&t.forEach(t=>{new c(t).init()}),e&&e.forEach(t=>{new d(t).init()}),s&&s.forEach(t=>{new u(t).init()}),i&&i.forEach(t=>{new g(t).init()}),n&&n.forEach(t=>{new tS(t).init()}),l&&l.forEach(t=>{new p(t).init()}),a&&a.forEach(t=>{new v(t).init()}),o&&o.forEach(t=>{new y(t).init()}),r&&r.forEach(t=>{new w(t).init()}),h&&h.forEach(t=>{new E(t).init()}),m&&m.forEach(t=>{new f(t).init()}),b&&b.forEach(t=>{new tA(t).init()}),k&&new C(k).init(),L&&L.forEach(t=>{new tS(t).init()}),x&&x.forEach(t=>{new tx(t).init()}),A&&A.forEach(t=>{new tI(t).init()}),S&&S.forEach(t=>{new t$(t).init()}),I&&I.forEach(t=>{new t_(t).init()}),T&&T.forEach(t=>{new tD(t).init()})}});
//# sourceMappingURL=about.f31cadf2.js.map
